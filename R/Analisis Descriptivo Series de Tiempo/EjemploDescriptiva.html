<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Ejemplo Completo de Descriptiva y Modelamiento mediante ETS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="EjemploDescriptiva_files/libs/clipboard/clipboard.min.js"></script>
<script src="EjemploDescriptiva_files/libs/quarto-html/quarto.js"></script>
<script src="EjemploDescriptiva_files/libs/quarto-html/popper.min.js"></script>
<script src="EjemploDescriptiva_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="EjemploDescriptiva_files/libs/quarto-html/anchor.min.js"></script>
<link href="EjemploDescriptiva_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="EjemploDescriptiva_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="EjemploDescriptiva_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="EjemploDescriptiva_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="EjemploDescriptiva_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="EjemploDescriptiva_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="EjemploDescriptiva_files/libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="EjemploDescriptiva_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="EjemploDescriptiva_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="EjemploDescriptiva_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="EjemploDescriptiva_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="EjemploDescriptiva_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="EjemploDescriptiva_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Ejemplo Completo de Descriptiva y Modelamiento mediante ETS</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="ejemplo-descriptiva-pasajeros-y-modelos-ets" class="level2">
<h2 class="anchored" data-anchor-id="ejemplo-descriptiva-pasajeros-y-modelos-ets">Ejemplo Descriptiva Pasajeros y Modelos ETS</h2>
<p>Vamos a llevara a cabo un ejemplo con los pasos de la estadística descriptiva en series de tiempo para la serie de pasajeros y un primer modelamiento desde suavizamiento exponencial.</p>
</section>
<section id="visualización-de-la-serie-de-tiempo" class="level2">
<h2 class="anchored" data-anchor-id="visualización-de-la-serie-de-tiempo">Visualización de la Serie de Tiempo</h2>
<p>Vamos primero a visualizar la serie de tiempo de pasajeros.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"AirPassengers"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(AirPassengers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/visual%20pasajeros-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Recuerden que la serie presenta:</p>
<ul>
<li><p><strong>Heterocedasticidad Marginal:</strong> <em>ya que visualmente el rango de valores que va tomando la variable se va haciendo cada vez mayor. Se debe estabilizar vía transformación Box-Cox.</em></p></li>
<li><p><strong>Tendencia:</strong> <em>La serie es creciente con el tiempo aparentemente de forma lineal. Se puede estimar la tendencia(determinística lineal) y despúes eliminar la tendencia. También se puede eliminar la tendencia mediante diferencia ordinaria y posterior</em></p></li>
<li><p><strong>Componente estacional:</strong> <em>Hay claridad de la existencia de una componente estacional de periodo s=12. Debido a que la serie es mensual y usualmente de haber esta componente, ella es de periodo s=12 , sin embargo vamos a proceder a identificarla usando las herramientas, basadas en una serie sin tendencia.</em></p></li>
</ul>
<p>Primero procedemos a estabilizar la varianza.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(AirPassengers) <span class="do">###Clase del objeto.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ts"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'quantmod':
  method            from
  as.zoo.data.frame zoo </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>forecast<span class="sc">::</span><span class="fu">BoxCox.lambda</span>(AirPassengers, <span class="at">method =</span><span class="st">"loglik"</span>, <span class="at">lower =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">upper =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Recordar que la funcion nos entrega el valor de lambda</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>MASS<span class="sc">::</span><span class="fu">boxcox</span>(<span class="fu">lm</span>(AirPassengers <span class="sc">~</span> <span class="dv">1</span>),<span class="fu">seq</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="at">length =</span> <span class="dv">50</span>))  <span class="do">##Coincide con el anterior valor de lambda.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/estabilización%20de%20la%20varianza-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>lAirPass<span class="ot">&lt;-</span><span class="fu">log</span>(AirPassengers)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lAirPass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/estabilización%20de%20la%20varianza-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>MASS<span class="sc">::</span><span class="fu">boxcox</span>(<span class="fu">lm</span>(lAirPass <span class="sc">~</span> <span class="dv">1</span>),<span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">5</span>, <span class="at">length =</span> <span class="dv">50</span>))  <span class="do">##Coincide con el anterior</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/estabilización%20de%20la%20varianza-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>forecast<span class="sc">::</span><span class="fu">BoxCox.lambda</span>(lAirPass, <span class="at">method =</span><span class="st">"loglik"</span>, <span class="at">lower =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">upper =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.1</code></pre>
</div>
</div>
<p>Note que el valor de <span class="math inline">\(\lambda\)</span> para estabilizar la varianza es 0.2, el cual está cerca de 0, axemás note que el IC para <span class="math inline">\(\lambda\)</span> no captura el 1. Por lo tanto usaremos <span class="math inline">\(\lambda=0\)</span>, es decir, transformación logarítmica. Note que después de la transformación logarítmica volvemos a evaluar el IC para <span class="math inline">\(\lambda\)</span> ahora para la serie transformada, y podemos ver que ahora es mas grande pero captura el 1, con lo cual la transformación logarítmica parece haber estabilizado la varianza.</p>
</section>
<section id="tendenciaestimación-yo-eliminación" class="level1">
<h1>Tendencia(estimación y/o eliminación)</h1>
<p>Segundo procederemos a estimar la tendencia de forma preliminar. Iniciamos con una tendencia lineal determinística.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit_pasajero <span class="ot">&lt;-</span> <span class="fu">lm</span>(lAirPass<span class="sc">~</span><span class="fu">time</span>(lAirPass), <span class="at">na.action=</span><span class="cn">NULL</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = lAirPass ~ time(lAirPass), na.action = NULL)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.30858 -0.10388 -0.01796  0.09738  0.29538 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    -2.302e+02  6.539e+00  -35.20   &lt;2e-16 ***
time(lAirPass)  1.206e-01  3.345e-03   36.05   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.139 on 142 degrees of freedom
Multiple R-squared:  0.9015,    Adjusted R-squared:  0.9008 
F-statistic:  1300 on 1 and 142 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lAirPass, <span class="at">ylab=</span><span class="st">"Número de Pasajeros en escala logarítmica"</span>) </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(fit_pasajero,<span class="at">col =</span> <span class="st">"red"</span>) <span class="co"># Se añade la recta ajusta</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/Estimacion%20de%20la%20tendencia-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="do">###Eliminamos la tendencia con la predicción la recta</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>NoTendlAirPass<span class="ot">=</span>lAirPass<span class="sc">-</span><span class="fu">predict</span>(fit_pasajero)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(NoTendlAirPass,<span class="at">main=</span><span class="st">"Serie Log Pasajeros Sin tendencia"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/Estimacion%20de%20la%20tendencia-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">acf</span>(NoTendlAirPass,<span class="at">lag.max =</span><span class="fu">length</span>(NoTendlAirPass) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/Estimacion%20de%20la%20tendencia-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Note que la serie, obtenida después de haber eliminado la tendencia lineal manifiesta hay un lento de su acf, en especial en rezagos múltiplos de 12. Esto podría sugerir la presencia de una componente estacional.</p>
<p>Veamos ahora la estimación de la tendencia desde filtro de promedio móviles y mediante STL. Recuerde que no hemos identificado la componente estacional, por lo tanto, lo obtenido descomposición de filtro de promedio móviles es una estimación preliminar.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>descomposicion_lAirPass<span class="ot">=</span><span class="fu">decompose</span>(lAirPass)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(descomposicion_lAirPass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/Promedio%20movil-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Note que por filtro de promedio móvil, la tendencia estimada es aproximadamente lineal. La componente estacional parece haberse estimada de forma idónea. Sin embargo, la componente residual presenta aún patrones estacionales.</p>
<p>Ahora procedamos a estimar la tenencia desde STL.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.3     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
✖ dplyr::select() masks MASS::select()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(timetk)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'zoo'

The following objects are masked from 'package:base':

    as.Date, as.Date.numeric</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>indice_logpasajeros<span class="ot">=</span><span class="fu">as.Date</span>(<span class="fu">as.yearmon</span>(<span class="fu">tk_index</span>(lAirPass)))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Otra forma de extraer el indice estimetk::tk_index(lAirPass)</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>df_logpasajeros<span class="ot">=</span><span class="fu">data.frame</span>(<span class="at">Fecha=</span>indice_logpasajeros,<span class="at">Logpasa=</span><span class="fu">as.matrix</span>(lAirPass))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df_logpasajeros)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   144 obs. of  2 variables:
 $ Fecha  : Date, format: "1949-01-01" "1949-02-01" ...
 $ Logpasa: num  4.72 4.77 4.88 4.86 4.8 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>tibble_logpasajeros<span class="ot">=</span><span class="fu">tibble</span>(df_logpasajeros)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co">#duplicates(tibble_logpasajeros, key = NULL, index=Fecha)   ##Mirar si hay registros duplicados</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="do">####Primera aproximación del ajuste STL</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>tibble_logpasajeros<span class="sc">%&gt;%</span>timetk<span class="sc">::</span><span class="fu">plot_time_series</span>(Fecha, Logpasa, </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.interactive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.plotly_slider =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f9fc902ce4b8b98dabb6" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f9fc902ce4b8b98dabb6">{"x":{"data":[{"x":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"],"y":[4.7184988712950942,4.7706846244656651,4.8828019225863706,4.8598124043616719,4.7957905455967413,4.9052747784384296,4.9972122737641147,4.9972122737641147,4.9126548857360524,4.7791234931115296,4.6443908991413725,4.7706846244656651,4.7449321283632502,4.836281906951478,4.9487598903781684,4.9052747784384296,4.8283137373023015,5.0039463059454592,5.1357984370502621,5.1357984370502621,5.0625950330269669,4.8903491282217537,4.7361984483944957,4.9416424226093039,4.9767337424205742,5.0106352940962555,5.181783550292085,5.0937502008067623,5.1474944768134527,5.181783550292085,5.2933048247244923,5.2933048247244923,5.2149357576089859,5.0875963352323836,4.9836066217083363,5.1119877883565437,5.1416635565026603,5.1929568508902104,5.2626901889048856,5.1984970312658261,5.2094861528414214,5.3844950627890888,5.4380793089231956,5.4889377261566867,5.3423342519648109,5.2522734280466299,5.1474944768134527,5.2678581590633282,5.2781146592305168,5.2781146592305168,5.4638318050256105,5.4595855141441589,5.43372200355424,5.4930614433405482,5.575949103146316,5.6058020662959978,5.4680601411351315,5.3518581334760666,5.1929568508902104,5.3033049080590757,5.3181199938442161,5.2364419628299492,5.4595855141441589,5.4249500174814029,5.4553211153577017,5.575949103146316,5.7104270173748697,5.6801726090170677,5.5568280616995374,5.43372200355424,5.3132059790417872,5.43372200355424,5.4889377261566867,5.4510384535657002,5.5872486584002496,5.5947113796018391,5.598421958998375,5.7525726388256331,5.8971538676367405,5.8493247799468593,5.7430031878094825,5.6131281063880705,5.4680601411351315,5.6276211136906369,5.6489742381612063,5.6240175061873385,5.7589017738772803,5.7462031905401529,5.7620513827801769,5.9242557974145322,6.0234475929610332,6.0038870671065387,5.872117789475416,5.7235851019523807,5.602118820879701,5.7235851019523807,5.7525726388256331,5.7071102647488754,5.8749307308520304,5.8522024797744745,5.872117789475416,6.045005314036012,6.1420374055873559,6.1463292576688975,6.0014148779611505,5.8493247799468593,5.7203117766074119,5.8171111599632042,5.8289456176102075,5.7620513827801769,5.8916442118257715,5.8522024797744745,5.8944028342648505,6.0753460310886842,6.1964441277945204,6.2245584292753602,6.0014148779611505,5.8833223884882786,5.7365722974791922,5.8200829303523616,5.8861040314501558,5.8348107370626048,6.0063531596017325,5.9814142112544806,6.0402547112774139,6.156978985585555,6.3062752869480159,6.3261494731550991,6.1377270540862341,6.0088131854425946,5.8916442118257715,6.0038870671065387,6.0330862217988015,5.9687075599853658,6.0378709199221374,6.1333980429966486,6.156978985585555,6.2822667468960063,6.4329400927391793,6.4068799860693142,6.230481447578482,6.1333980429966486,5.9661467391236922,6.0684255882441107],"text":["Fecha: 1949-01-01<br />.value: 4.718499","Fecha: 1949-02-01<br />.value: 4.770685","Fecha: 1949-03-01<br />.value: 4.882802","Fecha: 1949-04-01<br />.value: 4.859812","Fecha: 1949-05-01<br />.value: 4.795791","Fecha: 1949-06-01<br />.value: 4.905275","Fecha: 1949-07-01<br />.value: 4.997212","Fecha: 1949-08-01<br />.value: 4.997212","Fecha: 1949-09-01<br />.value: 4.912655","Fecha: 1949-10-01<br />.value: 4.779123","Fecha: 1949-11-01<br />.value: 4.644391","Fecha: 1949-12-01<br />.value: 4.770685","Fecha: 1950-01-01<br />.value: 4.744932","Fecha: 1950-02-01<br />.value: 4.836282","Fecha: 1950-03-01<br />.value: 4.948760","Fecha: 1950-04-01<br />.value: 4.905275","Fecha: 1950-05-01<br />.value: 4.828314","Fecha: 1950-06-01<br />.value: 5.003946","Fecha: 1950-07-01<br />.value: 5.135798","Fecha: 1950-08-01<br />.value: 5.135798","Fecha: 1950-09-01<br />.value: 5.062595","Fecha: 1950-10-01<br />.value: 4.890349","Fecha: 1950-11-01<br />.value: 4.736198","Fecha: 1950-12-01<br />.value: 4.941642","Fecha: 1951-01-01<br />.value: 4.976734","Fecha: 1951-02-01<br />.value: 5.010635","Fecha: 1951-03-01<br />.value: 5.181784","Fecha: 1951-04-01<br />.value: 5.093750","Fecha: 1951-05-01<br />.value: 5.147494","Fecha: 1951-06-01<br />.value: 5.181784","Fecha: 1951-07-01<br />.value: 5.293305","Fecha: 1951-08-01<br />.value: 5.293305","Fecha: 1951-09-01<br />.value: 5.214936","Fecha: 1951-10-01<br />.value: 5.087596","Fecha: 1951-11-01<br />.value: 4.983607","Fecha: 1951-12-01<br />.value: 5.111988","Fecha: 1952-01-01<br />.value: 5.141664","Fecha: 1952-02-01<br />.value: 5.192957","Fecha: 1952-03-01<br />.value: 5.262690","Fecha: 1952-04-01<br />.value: 5.198497","Fecha: 1952-05-01<br />.value: 5.209486","Fecha: 1952-06-01<br />.value: 5.384495","Fecha: 1952-07-01<br />.value: 5.438079","Fecha: 1952-08-01<br />.value: 5.488938","Fecha: 1952-09-01<br />.value: 5.342334","Fecha: 1952-10-01<br />.value: 5.252273","Fecha: 1952-11-01<br />.value: 5.147494","Fecha: 1952-12-01<br />.value: 5.267858","Fecha: 1953-01-01<br />.value: 5.278115","Fecha: 1953-02-01<br />.value: 5.278115","Fecha: 1953-03-01<br />.value: 5.463832","Fecha: 1953-04-01<br />.value: 5.459586","Fecha: 1953-05-01<br />.value: 5.433722","Fecha: 1953-06-01<br />.value: 5.493061","Fecha: 1953-07-01<br />.value: 5.575949","Fecha: 1953-08-01<br />.value: 5.605802","Fecha: 1953-09-01<br />.value: 5.468060","Fecha: 1953-10-01<br />.value: 5.351858","Fecha: 1953-11-01<br />.value: 5.192957","Fecha: 1953-12-01<br />.value: 5.303305","Fecha: 1954-01-01<br />.value: 5.318120","Fecha: 1954-02-01<br />.value: 5.236442","Fecha: 1954-03-01<br />.value: 5.459586","Fecha: 1954-04-01<br />.value: 5.424950","Fecha: 1954-05-01<br />.value: 5.455321","Fecha: 1954-06-01<br />.value: 5.575949","Fecha: 1954-07-01<br />.value: 5.710427","Fecha: 1954-08-01<br />.value: 5.680173","Fecha: 1954-09-01<br />.value: 5.556828","Fecha: 1954-10-01<br />.value: 5.433722","Fecha: 1954-11-01<br />.value: 5.313206","Fecha: 1954-12-01<br />.value: 5.433722","Fecha: 1955-01-01<br />.value: 5.488938","Fecha: 1955-02-01<br />.value: 5.451038","Fecha: 1955-03-01<br />.value: 5.587249","Fecha: 1955-04-01<br />.value: 5.594711","Fecha: 1955-05-01<br />.value: 5.598422","Fecha: 1955-06-01<br />.value: 5.752573","Fecha: 1955-07-01<br />.value: 5.897154","Fecha: 1955-08-01<br />.value: 5.849325","Fecha: 1955-09-01<br />.value: 5.743003","Fecha: 1955-10-01<br />.value: 5.613128","Fecha: 1955-11-01<br />.value: 5.468060","Fecha: 1955-12-01<br />.value: 5.627621","Fecha: 1956-01-01<br />.value: 5.648974","Fecha: 1956-02-01<br />.value: 5.624018","Fecha: 1956-03-01<br />.value: 5.758902","Fecha: 1956-04-01<br />.value: 5.746203","Fecha: 1956-05-01<br />.value: 5.762051","Fecha: 1956-06-01<br />.value: 5.924256","Fecha: 1956-07-01<br />.value: 6.023448","Fecha: 1956-08-01<br />.value: 6.003887","Fecha: 1956-09-01<br />.value: 5.872118","Fecha: 1956-10-01<br />.value: 5.723585","Fecha: 1956-11-01<br />.value: 5.602119","Fecha: 1956-12-01<br />.value: 5.723585","Fecha: 1957-01-01<br />.value: 5.752573","Fecha: 1957-02-01<br />.value: 5.707110","Fecha: 1957-03-01<br />.value: 5.874931","Fecha: 1957-04-01<br />.value: 5.852202","Fecha: 1957-05-01<br />.value: 5.872118","Fecha: 1957-06-01<br />.value: 6.045005","Fecha: 1957-07-01<br />.value: 6.142037","Fecha: 1957-08-01<br />.value: 6.146329","Fecha: 1957-09-01<br />.value: 6.001415","Fecha: 1957-10-01<br />.value: 5.849325","Fecha: 1957-11-01<br />.value: 5.720312","Fecha: 1957-12-01<br />.value: 5.817111","Fecha: 1958-01-01<br />.value: 5.828946","Fecha: 1958-02-01<br />.value: 5.762051","Fecha: 1958-03-01<br />.value: 5.891644","Fecha: 1958-04-01<br />.value: 5.852202","Fecha: 1958-05-01<br />.value: 5.894403","Fecha: 1958-06-01<br />.value: 6.075346","Fecha: 1958-07-01<br />.value: 6.196444","Fecha: 1958-08-01<br />.value: 6.224558","Fecha: 1958-09-01<br />.value: 6.001415","Fecha: 1958-10-01<br />.value: 5.883322","Fecha: 1958-11-01<br />.value: 5.736572","Fecha: 1958-12-01<br />.value: 5.820083","Fecha: 1959-01-01<br />.value: 5.886104","Fecha: 1959-02-01<br />.value: 5.834811","Fecha: 1959-03-01<br />.value: 6.006353","Fecha: 1959-04-01<br />.value: 5.981414","Fecha: 1959-05-01<br />.value: 6.040255","Fecha: 1959-06-01<br />.value: 6.156979","Fecha: 1959-07-01<br />.value: 6.306275","Fecha: 1959-08-01<br />.value: 6.326149","Fecha: 1959-09-01<br />.value: 6.137727","Fecha: 1959-10-01<br />.value: 6.008813","Fecha: 1959-11-01<br />.value: 5.891644","Fecha: 1959-12-01<br />.value: 6.003887","Fecha: 1960-01-01<br />.value: 6.033086","Fecha: 1960-02-01<br />.value: 5.968708","Fecha: 1960-03-01<br />.value: 6.037871","Fecha: 1960-04-01<br />.value: 6.133398","Fecha: 1960-05-01<br />.value: 6.156979","Fecha: 1960-06-01<br />.value: 6.282267","Fecha: 1960-07-01<br />.value: 6.432940","Fecha: 1960-08-01<br />.value: 6.406880","Fecha: 1960-09-01<br />.value: 6.230481","Fecha: 1960-10-01<br />.value: 6.133398","Fecha: 1960-11-01<br />.value: 5.966147","Fecha: 1960-12-01<br />.value: 6.068426"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"],"y":[4.7555970594795749,4.7684224189458719,4.7812130381353848,4.7939683220621081,4.8066876757400347,4.8193705041831594,4.8320162124054731,4.8446242054209687,4.8571938882436436,4.8697246658874844,4.8822159433664902,4.8946671256946503,4.9070776178859603,4.9194468249544103,4.931774151913995,4.94405900377871,4.9563007855625445,4.9684989022794932,4.9806479418206688,4.9927441841837705,5.0047895725426779,5.0167860500712615,5.0287355599434012,5.0406400453329718,5.0525014494138505,5.0643217153599114,5.0761027863450296,5.0878466055430849,5.0995551161279487,5.1112302612735014,5.1228739841536157,5.1344882279421684,5.1460749358130382,5.1576360509400958,5.1691735164972208,5.1806892756582892,5.192188770112967,5.2036740855189443,5.2151421310021355,5.2265898156884489,5.2380140487037981,5.2494117391740955,5.2607797962252514,5.2721151289831791,5.2834146465737879,5.2946752581229939,5.3058938727567035,5.3170673996008322,5.3281927477812907,5.3392668264239909,5.3502865446548453,5.3612488115997632,5.3721505363846589,5.3829886281354433,5.3937185744830609,5.4043075327902441,5.4147699167805889,5.4251201401776834,5.4353726167051244,5.4455417600865044,5.455641984045414,5.4656877023054493,5.4756933285902036,5.4856732766232685,5.4956419601282365,5.5056137928287034,5.5156031884482601,5.5256245607105017,5.5356923233390187,5.5458208900574073,5.5560246745892563,5.5663180906581635,5.5767824513745081,5.5874672212180361,5.5983390409663842,5.6093645513971904,5.6205103932880931,5.6317432074167284,5.6430296345607349,5.6543363154977504,5.6656298910054126,5.6768770018613584,5.6880442888432254,5.6990983927286516,5.7100059542952755,5.7207336143207339,5.7312480135826647,5.7415157928587037,5.7515035929264924,5.7611780545636648,5.7706152280332335,5.7799190508579006,5.7890979947048429,5.7981605312412343,5.8071151321342525,5.8159702690510731,5.8247344136588719,5.833416037624823,5.8420236126161029,5.8505656102998893,5.859050502343357,5.86748676041368,5.8758828561780367,5.8842472613036012,5.8925884474575509,5.90091488630706,5.9092350495193049,5.9175574087614624,5.9258465850294799,5.9340619674853592,5.9422041800453558,5.9502738466257208,5.9582715911427151,5.9661980375125898,5.9740538096515996,5.981839531476,5.9895558269020439,5.9972033198459895,6.0047826342240898,6.0122943939525983,6.0197392229477726,6.0271177451258655,6.0344305844031325,6.0416783646958265,6.0488617099202058,6.0559812439925214,6.0630408526498263,6.0700437107255709,6.0769893757806068,6.0838774053757882,6.0907073570719668,6.0974787884299948,6.1041912570107275,6.1108443203750147,6.1174375360837132,6.1239704616976729,6.130442654777748,6.1368536728847891,6.1432030735796532,6.1494904144231892,6.1557152529762531,6.1618771467996956,6.1679756534543699,6.1740103305011313],"text":["Fecha: 1949-01-01<br />.value_smooth: 4.755597","Fecha: 1949-02-01<br />.value_smooth: 4.768422","Fecha: 1949-03-01<br />.value_smooth: 4.781213","Fecha: 1949-04-01<br />.value_smooth: 4.793968","Fecha: 1949-05-01<br />.value_smooth: 4.806688","Fecha: 1949-06-01<br />.value_smooth: 4.819371","Fecha: 1949-07-01<br />.value_smooth: 4.832016","Fecha: 1949-08-01<br />.value_smooth: 4.844624","Fecha: 1949-09-01<br />.value_smooth: 4.857194","Fecha: 1949-10-01<br />.value_smooth: 4.869725","Fecha: 1949-11-01<br />.value_smooth: 4.882216","Fecha: 1949-12-01<br />.value_smooth: 4.894667","Fecha: 1950-01-01<br />.value_smooth: 4.907078","Fecha: 1950-02-01<br />.value_smooth: 4.919447","Fecha: 1950-03-01<br />.value_smooth: 4.931774","Fecha: 1950-04-01<br />.value_smooth: 4.944059","Fecha: 1950-05-01<br />.value_smooth: 4.956301","Fecha: 1950-06-01<br />.value_smooth: 4.968499","Fecha: 1950-07-01<br />.value_smooth: 4.980648","Fecha: 1950-08-01<br />.value_smooth: 4.992744","Fecha: 1950-09-01<br />.value_smooth: 5.004790","Fecha: 1950-10-01<br />.value_smooth: 5.016786","Fecha: 1950-11-01<br />.value_smooth: 5.028736","Fecha: 1950-12-01<br />.value_smooth: 5.040640","Fecha: 1951-01-01<br />.value_smooth: 5.052501","Fecha: 1951-02-01<br />.value_smooth: 5.064322","Fecha: 1951-03-01<br />.value_smooth: 5.076103","Fecha: 1951-04-01<br />.value_smooth: 5.087847","Fecha: 1951-05-01<br />.value_smooth: 5.099555","Fecha: 1951-06-01<br />.value_smooth: 5.111230","Fecha: 1951-07-01<br />.value_smooth: 5.122874","Fecha: 1951-08-01<br />.value_smooth: 5.134488","Fecha: 1951-09-01<br />.value_smooth: 5.146075","Fecha: 1951-10-01<br />.value_smooth: 5.157636","Fecha: 1951-11-01<br />.value_smooth: 5.169174","Fecha: 1951-12-01<br />.value_smooth: 5.180689","Fecha: 1952-01-01<br />.value_smooth: 5.192189","Fecha: 1952-02-01<br />.value_smooth: 5.203674","Fecha: 1952-03-01<br />.value_smooth: 5.215142","Fecha: 1952-04-01<br />.value_smooth: 5.226590","Fecha: 1952-05-01<br />.value_smooth: 5.238014","Fecha: 1952-06-01<br />.value_smooth: 5.249412","Fecha: 1952-07-01<br />.value_smooth: 5.260780","Fecha: 1952-08-01<br />.value_smooth: 5.272115","Fecha: 1952-09-01<br />.value_smooth: 5.283415","Fecha: 1952-10-01<br />.value_smooth: 5.294675","Fecha: 1952-11-01<br />.value_smooth: 5.305894","Fecha: 1952-12-01<br />.value_smooth: 5.317067","Fecha: 1953-01-01<br />.value_smooth: 5.328193","Fecha: 1953-02-01<br />.value_smooth: 5.339267","Fecha: 1953-03-01<br />.value_smooth: 5.350287","Fecha: 1953-04-01<br />.value_smooth: 5.361249","Fecha: 1953-05-01<br />.value_smooth: 5.372151","Fecha: 1953-06-01<br />.value_smooth: 5.382989","Fecha: 1953-07-01<br />.value_smooth: 5.393719","Fecha: 1953-08-01<br />.value_smooth: 5.404308","Fecha: 1953-09-01<br />.value_smooth: 5.414770","Fecha: 1953-10-01<br />.value_smooth: 5.425120","Fecha: 1953-11-01<br />.value_smooth: 5.435373","Fecha: 1953-12-01<br />.value_smooth: 5.445542","Fecha: 1954-01-01<br />.value_smooth: 5.455642","Fecha: 1954-02-01<br />.value_smooth: 5.465688","Fecha: 1954-03-01<br />.value_smooth: 5.475693","Fecha: 1954-04-01<br />.value_smooth: 5.485673","Fecha: 1954-05-01<br />.value_smooth: 5.495642","Fecha: 1954-06-01<br />.value_smooth: 5.505614","Fecha: 1954-07-01<br />.value_smooth: 5.515603","Fecha: 1954-08-01<br />.value_smooth: 5.525625","Fecha: 1954-09-01<br />.value_smooth: 5.535692","Fecha: 1954-10-01<br />.value_smooth: 5.545821","Fecha: 1954-11-01<br />.value_smooth: 5.556025","Fecha: 1954-12-01<br />.value_smooth: 5.566318","Fecha: 1955-01-01<br />.value_smooth: 5.576782","Fecha: 1955-02-01<br />.value_smooth: 5.587467","Fecha: 1955-03-01<br />.value_smooth: 5.598339","Fecha: 1955-04-01<br />.value_smooth: 5.609365","Fecha: 1955-05-01<br />.value_smooth: 5.620510","Fecha: 1955-06-01<br />.value_smooth: 5.631743","Fecha: 1955-07-01<br />.value_smooth: 5.643030","Fecha: 1955-08-01<br />.value_smooth: 5.654336","Fecha: 1955-09-01<br />.value_smooth: 5.665630","Fecha: 1955-10-01<br />.value_smooth: 5.676877","Fecha: 1955-11-01<br />.value_smooth: 5.688044","Fecha: 1955-12-01<br />.value_smooth: 5.699098","Fecha: 1956-01-01<br />.value_smooth: 5.710006","Fecha: 1956-02-01<br />.value_smooth: 5.720734","Fecha: 1956-03-01<br />.value_smooth: 5.731248","Fecha: 1956-04-01<br />.value_smooth: 5.741516","Fecha: 1956-05-01<br />.value_smooth: 5.751504","Fecha: 1956-06-01<br />.value_smooth: 5.761178","Fecha: 1956-07-01<br />.value_smooth: 5.770615","Fecha: 1956-08-01<br />.value_smooth: 5.779919","Fecha: 1956-09-01<br />.value_smooth: 5.789098","Fecha: 1956-10-01<br />.value_smooth: 5.798161","Fecha: 1956-11-01<br />.value_smooth: 5.807115","Fecha: 1956-12-01<br />.value_smooth: 5.815970","Fecha: 1957-01-01<br />.value_smooth: 5.824734","Fecha: 1957-02-01<br />.value_smooth: 5.833416","Fecha: 1957-03-01<br />.value_smooth: 5.842024","Fecha: 1957-04-01<br />.value_smooth: 5.850566","Fecha: 1957-05-01<br />.value_smooth: 5.859051","Fecha: 1957-06-01<br />.value_smooth: 5.867487","Fecha: 1957-07-01<br />.value_smooth: 5.875883","Fecha: 1957-08-01<br />.value_smooth: 5.884247","Fecha: 1957-09-01<br />.value_smooth: 5.892588","Fecha: 1957-10-01<br />.value_smooth: 5.900915","Fecha: 1957-11-01<br />.value_smooth: 5.909235","Fecha: 1957-12-01<br />.value_smooth: 5.917557","Fecha: 1958-01-01<br />.value_smooth: 5.925847","Fecha: 1958-02-01<br />.value_smooth: 5.934062","Fecha: 1958-03-01<br />.value_smooth: 5.942204","Fecha: 1958-04-01<br />.value_smooth: 5.950274","Fecha: 1958-05-01<br />.value_smooth: 5.958272","Fecha: 1958-06-01<br />.value_smooth: 5.966198","Fecha: 1958-07-01<br />.value_smooth: 5.974054","Fecha: 1958-08-01<br />.value_smooth: 5.981840","Fecha: 1958-09-01<br />.value_smooth: 5.989556","Fecha: 1958-10-01<br />.value_smooth: 5.997203","Fecha: 1958-11-01<br />.value_smooth: 6.004783","Fecha: 1958-12-01<br />.value_smooth: 6.012294","Fecha: 1959-01-01<br />.value_smooth: 6.019739","Fecha: 1959-02-01<br />.value_smooth: 6.027118","Fecha: 1959-03-01<br />.value_smooth: 6.034431","Fecha: 1959-04-01<br />.value_smooth: 6.041678","Fecha: 1959-05-01<br />.value_smooth: 6.048862","Fecha: 1959-06-01<br />.value_smooth: 6.055981","Fecha: 1959-07-01<br />.value_smooth: 6.063041","Fecha: 1959-08-01<br />.value_smooth: 6.070044","Fecha: 1959-09-01<br />.value_smooth: 6.076989","Fecha: 1959-10-01<br />.value_smooth: 6.083877","Fecha: 1959-11-01<br />.value_smooth: 6.090707","Fecha: 1959-12-01<br />.value_smooth: 6.097479","Fecha: 1960-01-01<br />.value_smooth: 6.104191","Fecha: 1960-02-01<br />.value_smooth: 6.110844","Fecha: 1960-03-01<br />.value_smooth: 6.117438","Fecha: 1960-04-01<br />.value_smooth: 6.123970","Fecha: 1960-05-01<br />.value_smooth: 6.130443","Fecha: 1960-06-01<br />.value_smooth: 6.136854","Fecha: 1960-07-01<br />.value_smooth: 6.143203","Fecha: 1960-08-01<br />.value_smooth: 6.149490","Fecha: 1960-09-01<br />.value_smooth: 6.155715","Fecha: 1960-10-01<br />.value_smooth: 6.161877","Fecha: 1960-11-01<br />.value_smooth: 6.167976","Fecha: 1960-12-01<br />.value_smooth: 6.174010"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":25.57077625570777,"l":28.493150684931514},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(44,62,80,1)","family":"","size":14.611872146118724},"title":{"text":"Time Series Plot","font":{"color":"rgba(44,62,80,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"date","autorange":true,"range":["1948-05-28","1961-07-06"],"tickmode":"auto","ticktext":["1950","1955","1960"],"tickvals":[-7305,-5479,-3653],"categoryorder":"array","categoryarray":["1950","1955","1960"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.6529680365296811,"tickwidth":0.22139200221392005,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392005,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(44,62,80,1)","family":"","size":14.611872146118724}},"hoverformat":".2f","rangeslider":{"type":"date"}},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":true,"range":[4.5549634394614822,6.5223675524190696],"tickmode":"auto","ticktext":["5.0","5.5","6.0","6.5"],"tickvals":[5,5.5,6,6.5],"categoryorder":"array","categoryarray":["5.0","5.5","6.0","6.5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.6529680365296811,"tickwidth":0.22139200221392005,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392005,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(44,62,80,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088001,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(44,62,80,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36233034223c":{"x":{},"y":{},"type":"scatter"},"36232eb3a9dd":{"x":{},"y":{}}},"cur_data":"36233034223c","visdat":{"36233034223c":["function (y) ","x"],"36232eb3a9dd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="do">#####Ajuste STL</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Note que obtenemos un objeto adicional en tibble_logpasajeros con Logpasa_ajus con parámetros que se pueden mover.</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>tibble_logpasajeros<span class="sc">%&gt;%</span><span class="fu">mutate</span>(<span class="at">Logpasa_ajus=</span><span class="fu">smooth_vec</span>(Logpasa,<span class="at">span =</span> <span class="fl">0.75</span>, <span class="at">degree =</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 144 × 3
   Fecha      Logpasa Logpasa_ajus
   &lt;date&gt;       &lt;dbl&gt;        &lt;dbl&gt;
 1 1949-01-01    4.72         4.76
 2 1949-02-01    4.77         4.77
 3 1949-03-01    4.88         4.78
 4 1949-04-01    4.86         4.79
 5 1949-05-01    4.80         4.81
 6 1949-06-01    4.91         4.82
 7 1949-07-01    5.00         4.83
 8 1949-08-01    5.00         4.84
 9 1949-09-01    4.91         4.86
10 1949-10-01    4.78         4.87
# ℹ 134 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="do">###Ajuste STL moviendo los parámetros</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>tibble_logpasajeros<span class="sc">%&gt;%</span><span class="fu">mutate</span>(<span class="at">Logpasa_ajus=</span><span class="fu">smooth_vec</span>(Logpasa,<span class="at">span =</span> <span class="fl">0.75</span>, <span class="at">degree =</span> <span class="dv">2</span>))<span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Fecha, Logpasa)) <span class="sc">+</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Logpasa_ajus), <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/STL-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Usted puede usar el objeto <span class="math inline">\(tibble\_logpasajeros\$Logpasa\)</span> para eliminar la tendencia obtenida de STL. Recuerde que puede hacer un procedimiento similar a STL para obtener una estimación de la componente de tendencia y estacional de forma automática sin controlar los parámetros de la tendencia. Note que los parámetros para estimar la tendencia y la componente estacional son distintos ahora que se usa la función STL.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(feasts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: fabletools</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'fabletools'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:forecast':

    accuracy</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fable)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'tsibble'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:zoo':

    index</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:lubridate':

    interval</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>tsibble_lAirPass<span class="ot">&lt;-</span><span class="fu">as_tsibble</span>(lAirPass)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tsibble_lAirPass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tbl_ts [144 × 2] (S3: tbl_ts/tbl_df/tbl/data.frame)
 $ index: mth [1:144] 1949 Jan, 1949 Feb, 1949 Mar, 1949 Apr, 1949 May, 1949 Jun...
 $ value: num [1:144] 4.72 4.77 4.88 4.86 4.8 ...
 - attr(*, "key")= tibble [1 × 1] (S3: tbl_df/tbl/data.frame)
  ..$ .rows: list&lt;int&gt; [1:1] 
  .. ..$ : int [1:144] 1 2 3 4 5 6 7 8 9 10 ...
  .. ..@ ptype: int(0) 
 - attr(*, "index")= chr "index"
  ..- attr(*, "ordered")= logi TRUE
 - attr(*, "index2")= chr "index"
 - attr(*, "interval")= interval [1:1] 1M
  ..@ .regular: logi TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>tsibble_lAirPass <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">STL</span>(value <span class="sc">~</span> <span class="fu">trend</span>() <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">season</span>(<span class="at">window =</span> <span class="st">"periodic"</span>),</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>() <span class="sc">%&gt;%</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/STL%20trend%20y%20estacional-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Veamos ahora la serie de los pasajeros en escala logarítmica después de la diferenciación ordinaria para eliminar la tendencia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="do">###Usando objeto tsibble</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>tsibble_lAirPass<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">diff_lAirPass=</span>tsibble<span class="sc">::</span><span class="fu">difference</span>(value,<span class="at">lag=</span><span class="dv">1</span>,<span class="at">differences =</span> <span class="dv">1</span>))<span class="sc">|&gt;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="at">.vars =</span>diff_lAirPass ) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Cambios en escala logarítmica de los pasajeros"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values (`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/diferencia%20ordinaria-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>tsibble_lAirPass<span class="ot">&lt;-</span>tsibble_lAirPass<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">diff_lAirPass=</span>tsibble<span class="sc">::</span><span class="fu">difference</span>(value,<span class="at">lag=</span><span class="dv">1</span>,<span class="at">differences =</span> <span class="dv">1</span>))</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="do">###Diferenciando basado en el objeto tibble</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>tibble_logpasajeros<span class="sc">%&gt;%</span><span class="fu">mutate</span>(<span class="at">diff_Logpasa=</span>Logpasa<span class="sc">-</span><span class="fu">lag</span>(Logpasa))<span class="sc">%&gt;%</span><span class="fu">plot_time_series</span>(Fecha,diff_Logpasa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-781e026eb4afdddbec79" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-781e026eb4afdddbec79">{"x":{"data":[{"x":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"],"y":[null,0.052185753170570948,0.11211729812070548,-0.022989518224698635,-0.064021858764930606,0.10948423284168829,0.09193749532568507,0,-0.084557388028062341,-0.13353139262452274,-0.13473259397015713,0.12629372532429262,-0.025752496102414923,0.091349778588227792,0.11247798342669046,-0.043485111939738808,-0.076961041136128117,0.17563256864315768,0.13185213110480287,0,-0.073203404023295171,-0.17224590480521318,-0.15415067982725805,0.2054439742148082,0.035091319811270338,0.033901551675681318,0.17114825619582952,-0.088033349485322709,0.053744276006690406,0.034289073478632304,0.11152127443240722,0,-0.078369067115506397,-0.12733942237660223,-0.10398971352404729,0.12838116664820731,0.02967576814611661,0.051293294387550148,0.069733338014675184,-0.064193157639059528,0.010989121575595284,0.17500890994766749,0.053584246134106728,0.05085841723349116,-0.1466034741918758,-0.090060823918181043,-0.10477895123317715,0.12036368224987548,0.010256500167188598,0,0.18571714579509369,-0.0042462908814515643,-0.025863510589918981,0.05933943978630829,0.082887659805767733,0.029852963149681777,-0.13774192516086625,-0.11620200765906485,-0.15890128258585623,0.11034805716886531,0.014815085785140347,-0.08167803101426685,0.22314355131420971,-0.034635496662756005,0.030371097876298769,0.12062798778861428,0.13447791422855371,-0.030254408357802021,-0.12334454731753031,-0.1231060581452974,-0.1205160245124528,0.1205160245124528,0.055215722602446782,-0.037899272590986577,0.13621020483454949,0.0074627212015894173,0.0037105793965359624,0.15415067982725805,0.14458122881110747,-0.047829087689881256,-0.1063215921373768,-0.12987508142141202,-0.14506796525293897,0.15956097255550539,0.021353124470569362,-0.024956731973867718,0.13488426768994177,-0.012698583337127367,0.015848192240023984,0.16220441463435531,0.099191795546500927,-0.019560525854494415,-0.13176927763112278,-0.14853268752303528,-0.12146628107267965,0.12146628107267965,0.028987536873252395,-0.045462374076757683,0.16782046610315504,-0.022728251077555939,0.019915309700941464,0.17288752456059608,0.097032091551343846,0.0042918520815415917,-0.14491437970774701,-0.15209009801429119,-0.12901300333944743,0.096799383355792301,0.011834457647003305,-0.066894234830030541,0.12959282904559455,-0.039441732051296974,0.042200354490375958,0.18094319682383375,0.12109809670583616,0.028114301480839821,-0.22314355131420971,-0.11809248947287188,-0.14675009100908643,0.083510632873169399,0.066021101097794244,-0.051293294387551036,0.17154242253912777,-0.024938948347251966,0.058840500022933284,0.11672427430814114,0.14929630136246086,0.019874186207083255,-0.18842241906886503,-0.12891386864363952,-0.1171689736168231,0.11224285528076727,0.029199154692262752,-0.064378661813435656,0.069163359936771585,0.095527123074511167,0.023580942588906417,0.12528776131045127,0.15067334584317305,-0.026060106669865135,-0.1763985384908322,-0.097083404581833399,-0.16725130387295639,0.10227884912041851],"text":["Fecha: 1949-01-01<br />.value:           NA","Fecha: 1949-02-01<br />.value:  0.052185753","Fecha: 1949-03-01<br />.value:  0.112117298","Fecha: 1949-04-01<br />.value: -0.022989518","Fecha: 1949-05-01<br />.value: -0.064021859","Fecha: 1949-06-01<br />.value:  0.109484233","Fecha: 1949-07-01<br />.value:  0.091937495","Fecha: 1949-08-01<br />.value:  0.000000000","Fecha: 1949-09-01<br />.value: -0.084557388","Fecha: 1949-10-01<br />.value: -0.133531393","Fecha: 1949-11-01<br />.value: -0.134732594","Fecha: 1949-12-01<br />.value:  0.126293725","Fecha: 1950-01-01<br />.value: -0.025752496","Fecha: 1950-02-01<br />.value:  0.091349779","Fecha: 1950-03-01<br />.value:  0.112477983","Fecha: 1950-04-01<br />.value: -0.043485112","Fecha: 1950-05-01<br />.value: -0.076961041","Fecha: 1950-06-01<br />.value:  0.175632569","Fecha: 1950-07-01<br />.value:  0.131852131","Fecha: 1950-08-01<br />.value:  0.000000000","Fecha: 1950-09-01<br />.value: -0.073203404","Fecha: 1950-10-01<br />.value: -0.172245905","Fecha: 1950-11-01<br />.value: -0.154150680","Fecha: 1950-12-01<br />.value:  0.205443974","Fecha: 1951-01-01<br />.value:  0.035091320","Fecha: 1951-02-01<br />.value:  0.033901552","Fecha: 1951-03-01<br />.value:  0.171148256","Fecha: 1951-04-01<br />.value: -0.088033349","Fecha: 1951-05-01<br />.value:  0.053744276","Fecha: 1951-06-01<br />.value:  0.034289073","Fecha: 1951-07-01<br />.value:  0.111521274","Fecha: 1951-08-01<br />.value:  0.000000000","Fecha: 1951-09-01<br />.value: -0.078369067","Fecha: 1951-10-01<br />.value: -0.127339422","Fecha: 1951-11-01<br />.value: -0.103989714","Fecha: 1951-12-01<br />.value:  0.128381167","Fecha: 1952-01-01<br />.value:  0.029675768","Fecha: 1952-02-01<br />.value:  0.051293294","Fecha: 1952-03-01<br />.value:  0.069733338","Fecha: 1952-04-01<br />.value: -0.064193158","Fecha: 1952-05-01<br />.value:  0.010989122","Fecha: 1952-06-01<br />.value:  0.175008910","Fecha: 1952-07-01<br />.value:  0.053584246","Fecha: 1952-08-01<br />.value:  0.050858417","Fecha: 1952-09-01<br />.value: -0.146603474","Fecha: 1952-10-01<br />.value: -0.090060824","Fecha: 1952-11-01<br />.value: -0.104778951","Fecha: 1952-12-01<br />.value:  0.120363682","Fecha: 1953-01-01<br />.value:  0.010256500","Fecha: 1953-02-01<br />.value:  0.000000000","Fecha: 1953-03-01<br />.value:  0.185717146","Fecha: 1953-04-01<br />.value: -0.004246291","Fecha: 1953-05-01<br />.value: -0.025863511","Fecha: 1953-06-01<br />.value:  0.059339440","Fecha: 1953-07-01<br />.value:  0.082887660","Fecha: 1953-08-01<br />.value:  0.029852963","Fecha: 1953-09-01<br />.value: -0.137741925","Fecha: 1953-10-01<br />.value: -0.116202008","Fecha: 1953-11-01<br />.value: -0.158901283","Fecha: 1953-12-01<br />.value:  0.110348057","Fecha: 1954-01-01<br />.value:  0.014815086","Fecha: 1954-02-01<br />.value: -0.081678031","Fecha: 1954-03-01<br />.value:  0.223143551","Fecha: 1954-04-01<br />.value: -0.034635497","Fecha: 1954-05-01<br />.value:  0.030371098","Fecha: 1954-06-01<br />.value:  0.120627988","Fecha: 1954-07-01<br />.value:  0.134477914","Fecha: 1954-08-01<br />.value: -0.030254408","Fecha: 1954-09-01<br />.value: -0.123344547","Fecha: 1954-10-01<br />.value: -0.123106058","Fecha: 1954-11-01<br />.value: -0.120516025","Fecha: 1954-12-01<br />.value:  0.120516025","Fecha: 1955-01-01<br />.value:  0.055215723","Fecha: 1955-02-01<br />.value: -0.037899273","Fecha: 1955-03-01<br />.value:  0.136210205","Fecha: 1955-04-01<br />.value:  0.007462721","Fecha: 1955-05-01<br />.value:  0.003710579","Fecha: 1955-06-01<br />.value:  0.154150680","Fecha: 1955-07-01<br />.value:  0.144581229","Fecha: 1955-08-01<br />.value: -0.047829088","Fecha: 1955-09-01<br />.value: -0.106321592","Fecha: 1955-10-01<br />.value: -0.129875081","Fecha: 1955-11-01<br />.value: -0.145067965","Fecha: 1955-12-01<br />.value:  0.159560973","Fecha: 1956-01-01<br />.value:  0.021353124","Fecha: 1956-02-01<br />.value: -0.024956732","Fecha: 1956-03-01<br />.value:  0.134884268","Fecha: 1956-04-01<br />.value: -0.012698583","Fecha: 1956-05-01<br />.value:  0.015848192","Fecha: 1956-06-01<br />.value:  0.162204415","Fecha: 1956-07-01<br />.value:  0.099191796","Fecha: 1956-08-01<br />.value: -0.019560526","Fecha: 1956-09-01<br />.value: -0.131769278","Fecha: 1956-10-01<br />.value: -0.148532688","Fecha: 1956-11-01<br />.value: -0.121466281","Fecha: 1956-12-01<br />.value:  0.121466281","Fecha: 1957-01-01<br />.value:  0.028987537","Fecha: 1957-02-01<br />.value: -0.045462374","Fecha: 1957-03-01<br />.value:  0.167820466","Fecha: 1957-04-01<br />.value: -0.022728251","Fecha: 1957-05-01<br />.value:  0.019915310","Fecha: 1957-06-01<br />.value:  0.172887525","Fecha: 1957-07-01<br />.value:  0.097032092","Fecha: 1957-08-01<br />.value:  0.004291852","Fecha: 1957-09-01<br />.value: -0.144914380","Fecha: 1957-10-01<br />.value: -0.152090098","Fecha: 1957-11-01<br />.value: -0.129013003","Fecha: 1957-12-01<br />.value:  0.096799383","Fecha: 1958-01-01<br />.value:  0.011834458","Fecha: 1958-02-01<br />.value: -0.066894235","Fecha: 1958-03-01<br />.value:  0.129592829","Fecha: 1958-04-01<br />.value: -0.039441732","Fecha: 1958-05-01<br />.value:  0.042200354","Fecha: 1958-06-01<br />.value:  0.180943197","Fecha: 1958-07-01<br />.value:  0.121098097","Fecha: 1958-08-01<br />.value:  0.028114301","Fecha: 1958-09-01<br />.value: -0.223143551","Fecha: 1958-10-01<br />.value: -0.118092489","Fecha: 1958-11-01<br />.value: -0.146750091","Fecha: 1958-12-01<br />.value:  0.083510633","Fecha: 1959-01-01<br />.value:  0.066021101","Fecha: 1959-02-01<br />.value: -0.051293294","Fecha: 1959-03-01<br />.value:  0.171542423","Fecha: 1959-04-01<br />.value: -0.024938948","Fecha: 1959-05-01<br />.value:  0.058840500","Fecha: 1959-06-01<br />.value:  0.116724274","Fecha: 1959-07-01<br />.value:  0.149296301","Fecha: 1959-08-01<br />.value:  0.019874186","Fecha: 1959-09-01<br />.value: -0.188422419","Fecha: 1959-10-01<br />.value: -0.128913869","Fecha: 1959-11-01<br />.value: -0.117168974","Fecha: 1959-12-01<br />.value:  0.112242855","Fecha: 1960-01-01<br />.value:  0.029199155","Fecha: 1960-02-01<br />.value: -0.064378662","Fecha: 1960-03-01<br />.value:  0.069163360","Fecha: 1960-04-01<br />.value:  0.095527123","Fecha: 1960-05-01<br />.value:  0.023580943","Fecha: 1960-06-01<br />.value:  0.125287761","Fecha: 1960-07-01<br />.value:  0.150673346","Fecha: 1960-08-01<br />.value: -0.026060107","Fecha: 1960-09-01<br />.value: -0.176398538","Fecha: 1960-10-01<br />.value: -0.097083405","Fecha: 1960-11-01<br />.value: -0.167251304","Fecha: 1960-12-01<br />.value:  0.102278849"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":["1949-01-01","1949-02-01","1949-03-01","1949-04-01","1949-05-01","1949-06-01","1949-07-01","1949-08-01","1949-09-01","1949-10-01","1949-11-01","1949-12-01","1950-01-01","1950-02-01","1950-03-01","1950-04-01","1950-05-01","1950-06-01","1950-07-01","1950-08-01","1950-09-01","1950-10-01","1950-11-01","1950-12-01","1951-01-01","1951-02-01","1951-03-01","1951-04-01","1951-05-01","1951-06-01","1951-07-01","1951-08-01","1951-09-01","1951-10-01","1951-11-01","1951-12-01","1952-01-01","1952-02-01","1952-03-01","1952-04-01","1952-05-01","1952-06-01","1952-07-01","1952-08-01","1952-09-01","1952-10-01","1952-11-01","1952-12-01","1953-01-01","1953-02-01","1953-03-01","1953-04-01","1953-05-01","1953-06-01","1953-07-01","1953-08-01","1953-09-01","1953-10-01","1953-11-01","1953-12-01","1954-01-01","1954-02-01","1954-03-01","1954-04-01","1954-05-01","1954-06-01","1954-07-01","1954-08-01","1954-09-01","1954-10-01","1954-11-01","1954-12-01","1955-01-01","1955-02-01","1955-03-01","1955-04-01","1955-05-01","1955-06-01","1955-07-01","1955-08-01","1955-09-01","1955-10-01","1955-11-01","1955-12-01","1956-01-01","1956-02-01","1956-03-01","1956-04-01","1956-05-01","1956-06-01","1956-07-01","1956-08-01","1956-09-01","1956-10-01","1956-11-01","1956-12-01","1957-01-01","1957-02-01","1957-03-01","1957-04-01","1957-05-01","1957-06-01","1957-07-01","1957-08-01","1957-09-01","1957-10-01","1957-11-01","1957-12-01","1958-01-01","1958-02-01","1958-03-01","1958-04-01","1958-05-01","1958-06-01","1958-07-01","1958-08-01","1958-09-01","1958-10-01","1958-11-01","1958-12-01","1959-01-01","1959-02-01","1959-03-01","1959-04-01","1959-05-01","1959-06-01","1959-07-01","1959-08-01","1959-09-01","1959-10-01","1959-11-01","1959-12-01","1960-01-01","1960-02-01","1960-03-01","1960-04-01","1960-05-01","1960-06-01","1960-07-01","1960-08-01","1960-09-01","1960-10-01","1960-11-01","1960-12-01"],"y":[null,0.017324176433251723,0.017043013372717301,0.016766884478042261,0.016495846831668864,0.016229957516039378,0.015969273613596079,0.015713852206781235,0.01546375037803711,0.015219025209805987,0.014979733784530125,0.014745933184651797,0.014517680492613273,0.014295032790856827,0.014078047161824722,0.013866780687959235,0.013661290451702626,0.013461633535497175,0.013267867021785149,0.01308059531694615,0.012900311664303003,0.012726906401712822,0.012560269867032712,0.012400292398119782,0.012246864332831143,0.012099876009023899,0.01195921776455516,0.011824779937282034,0.011696452865061635,0.011574126885751063,0.011457692337207434,0.011347039557287853,0.011242058883849429,0.011142640654749269,0.011048675207844482,0.01096005288099218,0.010876664012049465,0.010797053651217676,0.01071985179372552,0.010645076194971171,0.010572744610352796,0.010502874795268569,0.010435484505116662,0.010370591495295244,0.010308213521202486,0.010248368338236561,0.010191073701795641,0.010136347367277894,0.010084207090081497,0.010034670625604616,0.0099877557292454254,0.0099434801564020972,0.0099018616624727968,0.0098629180028557018,0.0098266669329489815,0.0098072283510323138,0.0098163707603993455,0.0098505848239692079,0.0099063612046610214,0.0099801905653939208,0.010068563569087028,0.010167970878659472,0.010274903157030378,0.010385851067118874,0.010497305271844091,0.010605756434125148,0.010707695216881179,0.010799612283031312,0.010877998295494668,0.010939343917190378,0.010980139811037567,0.010996876639955364,0.010986045066862895,0.010958718083986296,0.010928384143390741,0.010895157097753932,0.01085915079975356,0.010820479102067324,0.010779255857372921,0.010735594918348043,0.010689610137670386,0.010641415368017647,0.010591124462067524,0.010538851272497709,0.010484709651985901,0.010428813453209795,0.010371276528847083,0.01031221273157547,0.010251735914072642,0.0101899599290163,0.010126998629084137,0.010072987921162966,0.010035948913204267,0.010012823259482757,0.010000552614273144,0.0099960786318501488,0.0099963429664884744,0.0099982872724628351,0.0099988532040479472,0.0099949824155185201,0.0099836165611492667,0.0099616972952148979,0.0099261662719901285,0.0098739651457496695,0.0098020355707682336,0.0097073192013205339,0.0095867576916812813,0.0094372926961251904,0.0092558658689269671,0.0090521437124523475,0.0088376320347385972,0.0086120314485677481,0.0083750425667218267,0.0081263660019828595,0.0078657023671328801,0.0075927522749539072,0.0073072163382279752,0.007008795169737108,0.0066971893822633383,0.0063720995885886882,0.0060332264014951913,0.0056802704337648724,0.0053129322981797589,0.00493091260752188,0.0045339119745732631,0.0041216310121159365,0.0036937703329319258,0.0032501630583665784,0.0027909798070993048,0.0023164274379132298,0.0018267128095914805,0.0013220427809171836,0.00080262421067346472,0.00026866395764345101,-0.0002796311193897325,-0.00084205416164295863,-0.0014183983103331003,-0.0020084567066770325,-0.0026120224918916284,-0.0032288888071937616,-0.0038588487938003061,-0.0045016955929281337,-0.0051572223457941211,-0.005825222193615141],"text":["Fecha: 1949-01-01<br />.value_smooth:            NA","Fecha: 1949-02-01<br />.value_smooth:  0.0173241764","Fecha: 1949-03-01<br />.value_smooth:  0.0170430134","Fecha: 1949-04-01<br />.value_smooth:  0.0167668845","Fecha: 1949-05-01<br />.value_smooth:  0.0164958468","Fecha: 1949-06-01<br />.value_smooth:  0.0162299575","Fecha: 1949-07-01<br />.value_smooth:  0.0159692736","Fecha: 1949-08-01<br />.value_smooth:  0.0157138522","Fecha: 1949-09-01<br />.value_smooth:  0.0154637504","Fecha: 1949-10-01<br />.value_smooth:  0.0152190252","Fecha: 1949-11-01<br />.value_smooth:  0.0149797338","Fecha: 1949-12-01<br />.value_smooth:  0.0147459332","Fecha: 1950-01-01<br />.value_smooth:  0.0145176805","Fecha: 1950-02-01<br />.value_smooth:  0.0142950328","Fecha: 1950-03-01<br />.value_smooth:  0.0140780472","Fecha: 1950-04-01<br />.value_smooth:  0.0138667807","Fecha: 1950-05-01<br />.value_smooth:  0.0136612905","Fecha: 1950-06-01<br />.value_smooth:  0.0134616335","Fecha: 1950-07-01<br />.value_smooth:  0.0132678670","Fecha: 1950-08-01<br />.value_smooth:  0.0130805953","Fecha: 1950-09-01<br />.value_smooth:  0.0129003117","Fecha: 1950-10-01<br />.value_smooth:  0.0127269064","Fecha: 1950-11-01<br />.value_smooth:  0.0125602699","Fecha: 1950-12-01<br />.value_smooth:  0.0124002924","Fecha: 1951-01-01<br />.value_smooth:  0.0122468643","Fecha: 1951-02-01<br />.value_smooth:  0.0120998760","Fecha: 1951-03-01<br />.value_smooth:  0.0119592178","Fecha: 1951-04-01<br />.value_smooth:  0.0118247799","Fecha: 1951-05-01<br />.value_smooth:  0.0116964529","Fecha: 1951-06-01<br />.value_smooth:  0.0115741269","Fecha: 1951-07-01<br />.value_smooth:  0.0114576923","Fecha: 1951-08-01<br />.value_smooth:  0.0113470396","Fecha: 1951-09-01<br />.value_smooth:  0.0112420589","Fecha: 1951-10-01<br />.value_smooth:  0.0111426407","Fecha: 1951-11-01<br />.value_smooth:  0.0110486752","Fecha: 1951-12-01<br />.value_smooth:  0.0109600529","Fecha: 1952-01-01<br />.value_smooth:  0.0108766640","Fecha: 1952-02-01<br />.value_smooth:  0.0107970537","Fecha: 1952-03-01<br />.value_smooth:  0.0107198518","Fecha: 1952-04-01<br />.value_smooth:  0.0106450762","Fecha: 1952-05-01<br />.value_smooth:  0.0105727446","Fecha: 1952-06-01<br />.value_smooth:  0.0105028748","Fecha: 1952-07-01<br />.value_smooth:  0.0104354845","Fecha: 1952-08-01<br />.value_smooth:  0.0103705915","Fecha: 1952-09-01<br />.value_smooth:  0.0103082135","Fecha: 1952-10-01<br />.value_smooth:  0.0102483683","Fecha: 1952-11-01<br />.value_smooth:  0.0101910737","Fecha: 1952-12-01<br />.value_smooth:  0.0101363474","Fecha: 1953-01-01<br />.value_smooth:  0.0100842071","Fecha: 1953-02-01<br />.value_smooth:  0.0100346706","Fecha: 1953-03-01<br />.value_smooth:  0.0099877557","Fecha: 1953-04-01<br />.value_smooth:  0.0099434802","Fecha: 1953-05-01<br />.value_smooth:  0.0099018617","Fecha: 1953-06-01<br />.value_smooth:  0.0098629180","Fecha: 1953-07-01<br />.value_smooth:  0.0098266669","Fecha: 1953-08-01<br />.value_smooth:  0.0098072284","Fecha: 1953-09-01<br />.value_smooth:  0.0098163708","Fecha: 1953-10-01<br />.value_smooth:  0.0098505848","Fecha: 1953-11-01<br />.value_smooth:  0.0099063612","Fecha: 1953-12-01<br />.value_smooth:  0.0099801906","Fecha: 1954-01-01<br />.value_smooth:  0.0100685636","Fecha: 1954-02-01<br />.value_smooth:  0.0101679709","Fecha: 1954-03-01<br />.value_smooth:  0.0102749032","Fecha: 1954-04-01<br />.value_smooth:  0.0103858511","Fecha: 1954-05-01<br />.value_smooth:  0.0104973053","Fecha: 1954-06-01<br />.value_smooth:  0.0106057564","Fecha: 1954-07-01<br />.value_smooth:  0.0107076952","Fecha: 1954-08-01<br />.value_smooth:  0.0107996123","Fecha: 1954-09-01<br />.value_smooth:  0.0108779983","Fecha: 1954-10-01<br />.value_smooth:  0.0109393439","Fecha: 1954-11-01<br />.value_smooth:  0.0109801398","Fecha: 1954-12-01<br />.value_smooth:  0.0109968766","Fecha: 1955-01-01<br />.value_smooth:  0.0109860451","Fecha: 1955-02-01<br />.value_smooth:  0.0109587181","Fecha: 1955-03-01<br />.value_smooth:  0.0109283841","Fecha: 1955-04-01<br />.value_smooth:  0.0108951571","Fecha: 1955-05-01<br />.value_smooth:  0.0108591508","Fecha: 1955-06-01<br />.value_smooth:  0.0108204791","Fecha: 1955-07-01<br />.value_smooth:  0.0107792559","Fecha: 1955-08-01<br />.value_smooth:  0.0107355949","Fecha: 1955-09-01<br />.value_smooth:  0.0106896101","Fecha: 1955-10-01<br />.value_smooth:  0.0106414154","Fecha: 1955-11-01<br />.value_smooth:  0.0105911245","Fecha: 1955-12-01<br />.value_smooth:  0.0105388513","Fecha: 1956-01-01<br />.value_smooth:  0.0104847097","Fecha: 1956-02-01<br />.value_smooth:  0.0104288135","Fecha: 1956-03-01<br />.value_smooth:  0.0103712765","Fecha: 1956-04-01<br />.value_smooth:  0.0103122127","Fecha: 1956-05-01<br />.value_smooth:  0.0102517359","Fecha: 1956-06-01<br />.value_smooth:  0.0101899599","Fecha: 1956-07-01<br />.value_smooth:  0.0101269986","Fecha: 1956-08-01<br />.value_smooth:  0.0100729879","Fecha: 1956-09-01<br />.value_smooth:  0.0100359489","Fecha: 1956-10-01<br />.value_smooth:  0.0100128233","Fecha: 1956-11-01<br />.value_smooth:  0.0100005526","Fecha: 1956-12-01<br />.value_smooth:  0.0099960786","Fecha: 1957-01-01<br />.value_smooth:  0.0099963430","Fecha: 1957-02-01<br />.value_smooth:  0.0099982873","Fecha: 1957-03-01<br />.value_smooth:  0.0099988532","Fecha: 1957-04-01<br />.value_smooth:  0.0099949824","Fecha: 1957-05-01<br />.value_smooth:  0.0099836166","Fecha: 1957-06-01<br />.value_smooth:  0.0099616973","Fecha: 1957-07-01<br />.value_smooth:  0.0099261663","Fecha: 1957-08-01<br />.value_smooth:  0.0098739651","Fecha: 1957-09-01<br />.value_smooth:  0.0098020356","Fecha: 1957-10-01<br />.value_smooth:  0.0097073192","Fecha: 1957-11-01<br />.value_smooth:  0.0095867577","Fecha: 1957-12-01<br />.value_smooth:  0.0094372927","Fecha: 1958-01-01<br />.value_smooth:  0.0092558659","Fecha: 1958-02-01<br />.value_smooth:  0.0090521437","Fecha: 1958-03-01<br />.value_smooth:  0.0088376320","Fecha: 1958-04-01<br />.value_smooth:  0.0086120314","Fecha: 1958-05-01<br />.value_smooth:  0.0083750426","Fecha: 1958-06-01<br />.value_smooth:  0.0081263660","Fecha: 1958-07-01<br />.value_smooth:  0.0078657024","Fecha: 1958-08-01<br />.value_smooth:  0.0075927523","Fecha: 1958-09-01<br />.value_smooth:  0.0073072163","Fecha: 1958-10-01<br />.value_smooth:  0.0070087952","Fecha: 1958-11-01<br />.value_smooth:  0.0066971894","Fecha: 1958-12-01<br />.value_smooth:  0.0063720996","Fecha: 1959-01-01<br />.value_smooth:  0.0060332264","Fecha: 1959-02-01<br />.value_smooth:  0.0056802704","Fecha: 1959-03-01<br />.value_smooth:  0.0053129323","Fecha: 1959-04-01<br />.value_smooth:  0.0049309126","Fecha: 1959-05-01<br />.value_smooth:  0.0045339120","Fecha: 1959-06-01<br />.value_smooth:  0.0041216310","Fecha: 1959-07-01<br />.value_smooth:  0.0036937703","Fecha: 1959-08-01<br />.value_smooth:  0.0032501631","Fecha: 1959-09-01<br />.value_smooth:  0.0027909798","Fecha: 1959-10-01<br />.value_smooth:  0.0023164274","Fecha: 1959-11-01<br />.value_smooth:  0.0018267128","Fecha: 1959-12-01<br />.value_smooth:  0.0013220428","Fecha: 1960-01-01<br />.value_smooth:  0.0008026242","Fecha: 1960-02-01<br />.value_smooth:  0.0002686640","Fecha: 1960-03-01<br />.value_smooth: -0.0002796311","Fecha: 1960-04-01<br />.value_smooth: -0.0008420542","Fecha: 1960-05-01<br />.value_smooth: -0.0014183983","Fecha: 1960-06-01<br />.value_smooth: -0.0020084567","Fecha: 1960-07-01<br />.value_smooth: -0.0026120225","Fecha: 1960-08-01<br />.value_smooth: -0.0032288888","Fecha: 1960-09-01<br />.value_smooth: -0.0038588488","Fecha: 1960-10-01<br />.value_smooth: -0.0045016956","Fecha: 1960-11-01<br />.value_smooth: -0.0051572223","Fecha: 1960-12-01<br />.value_smooth: -0.0058252222"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":25.57077625570777,"l":34.337899543379002},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(44,62,80,1)","family":"","size":14.611872146118724},"title":{"text":"Time Series Plot","font":{"color":"rgba(44,62,80,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"date","autorange":true,"range":["1948-05-28","1961-07-06"],"tickmode":"auto","ticktext":["1950","1955","1960"],"tickvals":[-7305,-5479,-3653],"categoryorder":"array","categoryarray":["1950","1955","1960"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.6529680365296811,"tickwidth":0.22139200221392005,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392005,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(44,62,80,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":true,"range":[-0.24545790644563067,0.24545790644563067],"tickmode":"auto","ticktext":["-0.2","-0.1","0.0","0.1","0.2"],"tickvals":[-0.20000000000000001,-0.10000000000000001,0,0.10000000000000001,0.19999999999999998],"categoryorder":"array","categoryarray":["-0.2","-0.1","0.0","0.1","0.2"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.6529680365296811,"tickwidth":0.22139200221392005,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392005,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(44,62,80,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088001,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(44,62,80,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"36232c6ab40f":{"x":{},"y":{},"type":"scatter"},"362311535b91":{"x":{},"y":{}}},"cur_data":"36232c6ab40f","visdat":{"36232c6ab40f":["function (y) ","x"],"362311535b91":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>tibble_logpasajeros<span class="ot">&lt;-</span>tibble_logpasajeros<span class="sc">%&gt;%</span><span class="fu">mutate</span>(<span class="at">diff_Logpasa=</span>Logpasa<span class="sc">-</span><span class="fu">lag</span>(Logpasa))</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="do">###Diferenciando con base en el objeto ts</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>dlAirPass<span class="ot">&lt;-</span><span class="fu">diff</span>(lAirPass)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dlAirPass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/diferencia%20ordinaria-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Note que todos los objetos dejan NA cuando se usa aplioca la diferenciación excepto cuando el objeto es ts.</p>
</section>
<section id="detección-de-la-estacionalidad" class="level1">
<h1>Detección de la estacionalidad</h1>
<p>Recordemos que la idea de la detección de la estacionalidad consiste en ver si en ciertos periodos de tiempo las medias en esos periodos son distintos, adicionalmente hay que encontrar el periodo del ciclo estacional(<strong>s</strong>), es decir cuantos periodos de tiempo pasan hasta ver que la media sea análoga.</p>
<p>Iniciaremos con la la gráfica de subseries de la serie sin tendencia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="do">###Dado que la serie es mensual, monthplot permite hacer los gráficos de las subseries.</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">monthplot</span>(dlAirPass) <span class="do">##Note hay meses muchas subseries están centradas alrededor de valores diferentes usando el objeto ts</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/explorando%20estacionalidad%20subseries-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>tsibble_lAirPass<span class="sc">%&gt;%</span><span class="fu">na.omit</span>()<span class="sc">|&gt;</span><span class="fu">gg_subseries</span>(diff_lAirPass,<span class="at">period=</span><span class="dv">12</span>) <span class="do">##Gráfico de subseries usando el objeto tibble</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/explorando%20estacionalidad%20subseries-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>tibble_logpasajeros <span class="sc">%&gt;%</span><span class="fu">na.omit</span>()<span class="sc">|&gt;</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">Mes =</span> <span class="fu">str_c</span>(<span class="st">""</span>, <span class="fu">as.character</span>(lubridate<span class="sc">::</span><span class="fu">month</span>(Fecha,<span class="at">label=</span><span class="cn">TRUE</span>)))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_time_series</span>(</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">.date_var =</span> Fecha,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">.value =</span> diff_Logpasa,</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">.facet_vars =</span> Mes,</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">.facet_ncol =</span> <span class="dv">4</span>, </span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">.color_var =</span> Mes, </span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">.facet_scales =</span> <span class="st">"fixed"</span>,</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">.interactive =</span> <span class="cn">FALSE</span>,</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">.legend_show =</span> <span class="cn">FALSE</span>,</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">.smooth =</span> <span class="cn">FALSE</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/explorando%20estacionalidad%20subseries-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggseasonplot</span>(dlAirPass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/explorando%20estacionalidad%20subseries-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Explorando la estacionalidad con gráficos de cajas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Basado en el objeto tibble</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>tibble_logpasajeros<span class="sc">%&gt;%</span><span class="fu">na.omit</span>()<span class="sc">%&gt;%</span><span class="fu">plot_seasonal_diagnostics</span>(<span class="at">.date_var =</span> Fecha,<span class="at">.value =</span> diff_Logpasa,<span class="at">.feature_set =</span> <span class="fu">c</span>(<span class="st">"month.lbl"</span>),<span class="at">.geom=</span><span class="st">"boxplot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-512001448929bb5e6d31" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-512001448929bb5e6d31">{"x":{"data":[{"x":[2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,1,1,1,1,1,1,1,1,1,1,1],"y":[0.052185753170570948,-0.051293294387551036,-0.066894234830030541,-0.045462374076757683,-0.024956731973867718,-0.064378661813435656,-0.037899272590986577,-0.08167803101426685,0,0.051293294387550148,0.033901551675681318,0.091349778588227792,0.13488426768994177,0.18571714579509369,0.11211729812070548,0.17154242253912777,0.12959282904559455,0.16782046610315504,0.11247798342669046,0.069163359936771585,0.13621020483454949,0.22314355131420971,0.069733338014675184,0.17114825619582952,-0.022728251077555939,-0.012698583337127367,-0.034635496662756005,-0.0042462908814515643,-0.022989518224698635,-0.024938948347251966,-0.039441732051296974,-0.088033349485322709,-0.043485111939738808,0.095527123074511167,0.0074627212015894173,-0.064193157639059528,0.042200354490375958,0.019915309700941464,0.015848192240023984,0.0037105793965359624,0.030371097876298769,-0.025863510589918981,-0.064021858764930606,0.058840500022933284,0.010989121575595284,0.053744276006690406,-0.076961041136128117,0.023580942588906417,0.10948423284168829,0.11672427430814114,0.18094319682383375,0.17288752456059608,0.16220441463435531,0.12528776131045127,0.15415067982725805,0.12062798778861428,0.17563256864315768,0.05933943978630829,0.17500890994766749,0.034289073478632304,0.099191795546500927,0.097032091551343846,0.09193749532568507,0.14929630136246086,0.12109809670583616,0.13447791422855371,0.13185213110480287,0.15067334584317305,0.14458122881110747,0.11152127443240722,0.082887659805767733,0.053584246134106728,0.0042918520815415917,-0.019560525854494415,0.028114301480839821,-0.030254408357802021,0,0.019874186207083255,-0.047829087689881256,0,0,-0.026060106669865135,0.05085841723349116,0.029852963149681777,-0.22314355131420971,-0.14491437970774701,-0.13176927763112278,-0.18842241906886503,-0.1063215921373768,-0.12334454731753031,-0.084557388028062341,-0.13774192516086625,-0.1466034741918758,-0.078369067115506397,-0.073203404023295171,-0.1763985384908322,-0.13353139262452274,-0.12891386864363952,-0.11809248947287188,-0.15209009801429119,-0.17224590480521318,-0.097083404581833399,-0.14853268752303528,-0.12987508142141202,-0.1231060581452974,-0.11620200765906485,-0.090060823918181043,-0.12733942237660223,-0.12901300333944743,-0.1205160245124528,-0.13473259397015713,-0.1171689736168231,-0.14675009100908643,-0.10398971352404729,-0.15415067982725805,-0.16725130387295639,-0.12146628107267965,-0.14506796525293897,-0.15890128258585623,-0.10477895123317715,0.083510632873169399,0.096799383355792301,0.15956097255550539,0.1205160245124528,0.12629372532429262,0.11224285528076727,0.12036368224987548,0.12838116664820731,0.2054439742148082,0.10227884912041851,0.12146628107267965,0.11034805716886531,0.029199154692262752,0.066021101097794244,0.011834457647003305,0.028987536873252395,0.021353124470569362,0.055215722602446782,-0.025752496102414923,0.014815085785140347,0.010256500167188598,0.02967576814611661,0.035091319811270338],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(44,62,80,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":55.452054794520549,"r":7.3059360730593621,"b":25.57077625570777,"l":34.337899543379002},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(44,62,80,1)","family":"","size":14.611872146118724},"title":{"text":"Seasonal Diagnostics","font":{"color":"rgba(44,62,80,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,12.6],"tickmode":"array","ticktext":["January","February","March","April","May","June","July","August","September","October","November","December"],"tickvals":[1,2,3,4.0000000000000009,5,6,7.0000000000000009,8,9,10,11,12],"categoryorder":"array","categoryarray":["January","February","March","April","May","June","July","August","September","October","November","December"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.6529680365296811,"tickwidth":0.22139200221392005,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392005,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.24545790644563067,0.24545790644563067],"tickmode":"array","ticktext":["-0.2","-0.1","0.0","0.1","0.2"],"tickvals":[-0.20000000000000001,-0.10000000000000001,0,0.10000000000000001,0.19999999999999998],"categoryorder":"array","categoryarray":["-0.2","-0.1","0.0","0.1","0.2"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.6529680365296811,"tickwidth":0.22139200221392005,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392005,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088001,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(44,62,80,1)","line":{"color":"rgba(44,62,80,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":24.973017849730184,"yanchor":1,"ysizemode":"pixel"}],"annotations":[{"text":"month.lbl","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(44,62,80,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"362376c52a06":{"x":{},"y":{},"type":"box"}},"cur_data":"362376c52a06","visdat":{"362376c52a06":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tibble_logpasajeros <span class="sc">%&gt;%</span><span class="fu">na.omit</span>()<span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">Mes =</span> <span class="fu">str_c</span>(<span class="st">"Mes "</span>, <span class="fu">as.character</span>(lubridate<span class="sc">::</span><span class="fu">month</span>(Fecha)))</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    ), <span class="fu">aes</span>(<span class="at">x =</span> diff_Logpasa)) <span class="sc">+</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Mes)) <span class="sc">+</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggtitle</span>(<span class="st">"LosPass - Estimación de la densidad vía Kernel por mes"</span>) <span class="sc">+</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(<span class="fu">as.factor</span>(Mes)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/gráfico%20de%20cajas-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="periodograma" class="level1">
<h1>Periodograma</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spectrum</span>(<span class="fu">as.numeric</span>(dlAirPass),<span class="at">log=</span><span class="st">'no'</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>PeriodgramadlAirPass<span class="ot">=</span><span class="fu">spectrum</span>(<span class="fu">as.numeric</span>(dlAirPass),<span class="at">log=</span><span class="st">'no'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/periodograma-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>ubicacionlogAir<span class="ot">=</span><span class="fu">which.max</span>(PeriodgramadlAirPass<span class="sc">$</span>spec)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"El valor de la frecuencia donde se máximiza el periodograma para la serie es: %s"</span>,PeriodgramadlAirPass<span class="sc">$</span>freq[ubicacionlogAir])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "El valor de la frecuencia donde se máximiza el periodograma para la serie es: 0.166666666666667"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">"El periodo correspondiente es aproximadamente: %s"</span>,<span class="dv">1</span><span class="sc">/</span>PeriodgramadlAirPass<span class="sc">$</span>freq[ubicacionlogAir])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "El periodo correspondiente es aproximadamente: 6"</code></pre>
</div>
</div>
<p>Note que e periodo es 6, sin embargo 6 no es periodo principal para este caso, sería 12 ya que 6 es un múltiplo racional de 12.</p>
<section id="modelamiento-de-la-estacionalidad" class="level3">
<h3 class="anchored" data-anchor-id="modelamiento-de-la-estacionalidad">Modelamiento de la estacionalidad</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fable)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fabletools)</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(TSA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 methods overwritten by 'TSA':
  method       from    
  fitted.Arima forecast
  plot.Arima   forecast</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'TSA'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:readr':

    spec</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    acf, arima</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:utils':

    tar</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>tsibble_Airpass<span class="ot">=</span><span class="fu">as_tsibble</span>(AirPassengers)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="do">###Variables Dummy y Armónicos</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>forecast<span class="sc">::</span><span class="fu">seasonaldummy</span>(AirPassengers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov
  [1,]   1   0   0   0   0   0   0   0   0   0   0
  [2,]   0   1   0   0   0   0   0   0   0   0   0
  [3,]   0   0   1   0   0   0   0   0   0   0   0
  [4,]   0   0   0   1   0   0   0   0   0   0   0
  [5,]   0   0   0   0   1   0   0   0   0   0   0
  [6,]   0   0   0   0   0   1   0   0   0   0   0
  [7,]   0   0   0   0   0   0   1   0   0   0   0
  [8,]   0   0   0   0   0   0   0   1   0   0   0
  [9,]   0   0   0   0   0   0   0   0   1   0   0
 [10,]   0   0   0   0   0   0   0   0   0   1   0
 [11,]   0   0   0   0   0   0   0   0   0   0   1
 [12,]   0   0   0   0   0   0   0   0   0   0   0
 [13,]   1   0   0   0   0   0   0   0   0   0   0
 [14,]   0   1   0   0   0   0   0   0   0   0   0
 [15,]   0   0   1   0   0   0   0   0   0   0   0
 [16,]   0   0   0   1   0   0   0   0   0   0   0
 [17,]   0   0   0   0   1   0   0   0   0   0   0
 [18,]   0   0   0   0   0   1   0   0   0   0   0
 [19,]   0   0   0   0   0   0   1   0   0   0   0
 [20,]   0   0   0   0   0   0   0   1   0   0   0
 [21,]   0   0   0   0   0   0   0   0   1   0   0
 [22,]   0   0   0   0   0   0   0   0   0   1   0
 [23,]   0   0   0   0   0   0   0   0   0   0   1
 [24,]   0   0   0   0   0   0   0   0   0   0   0
 [25,]   1   0   0   0   0   0   0   0   0   0   0
 [26,]   0   1   0   0   0   0   0   0   0   0   0
 [27,]   0   0   1   0   0   0   0   0   0   0   0
 [28,]   0   0   0   1   0   0   0   0   0   0   0
 [29,]   0   0   0   0   1   0   0   0   0   0   0
 [30,]   0   0   0   0   0   1   0   0   0   0   0
 [31,]   0   0   0   0   0   0   1   0   0   0   0
 [32,]   0   0   0   0   0   0   0   1   0   0   0
 [33,]   0   0   0   0   0   0   0   0   1   0   0
 [34,]   0   0   0   0   0   0   0   0   0   1   0
 [35,]   0   0   0   0   0   0   0   0   0   0   1
 [36,]   0   0   0   0   0   0   0   0   0   0   0
 [37,]   1   0   0   0   0   0   0   0   0   0   0
 [38,]   0   1   0   0   0   0   0   0   0   0   0
 [39,]   0   0   1   0   0   0   0   0   0   0   0
 [40,]   0   0   0   1   0   0   0   0   0   0   0
 [41,]   0   0   0   0   1   0   0   0   0   0   0
 [42,]   0   0   0   0   0   1   0   0   0   0   0
 [43,]   0   0   0   0   0   0   1   0   0   0   0
 [44,]   0   0   0   0   0   0   0   1   0   0   0
 [45,]   0   0   0   0   0   0   0   0   1   0   0
 [46,]   0   0   0   0   0   0   0   0   0   1   0
 [47,]   0   0   0   0   0   0   0   0   0   0   1
 [48,]   0   0   0   0   0   0   0   0   0   0   0
 [49,]   1   0   0   0   0   0   0   0   0   0   0
 [50,]   0   1   0   0   0   0   0   0   0   0   0
 [51,]   0   0   1   0   0   0   0   0   0   0   0
 [52,]   0   0   0   1   0   0   0   0   0   0   0
 [53,]   0   0   0   0   1   0   0   0   0   0   0
 [54,]   0   0   0   0   0   1   0   0   0   0   0
 [55,]   0   0   0   0   0   0   1   0   0   0   0
 [56,]   0   0   0   0   0   0   0   1   0   0   0
 [57,]   0   0   0   0   0   0   0   0   1   0   0
 [58,]   0   0   0   0   0   0   0   0   0   1   0
 [59,]   0   0   0   0   0   0   0   0   0   0   1
 [60,]   0   0   0   0   0   0   0   0   0   0   0
 [61,]   1   0   0   0   0   0   0   0   0   0   0
 [62,]   0   1   0   0   0   0   0   0   0   0   0
 [63,]   0   0   1   0   0   0   0   0   0   0   0
 [64,]   0   0   0   1   0   0   0   0   0   0   0
 [65,]   0   0   0   0   1   0   0   0   0   0   0
 [66,]   0   0   0   0   0   1   0   0   0   0   0
 [67,]   0   0   0   0   0   0   1   0   0   0   0
 [68,]   0   0   0   0   0   0   0   1   0   0   0
 [69,]   0   0   0   0   0   0   0   0   1   0   0
 [70,]   0   0   0   0   0   0   0   0   0   1   0
 [71,]   0   0   0   0   0   0   0   0   0   0   1
 [72,]   0   0   0   0   0   0   0   0   0   0   0
 [73,]   1   0   0   0   0   0   0   0   0   0   0
 [74,]   0   1   0   0   0   0   0   0   0   0   0
 [75,]   0   0   1   0   0   0   0   0   0   0   0
 [76,]   0   0   0   1   0   0   0   0   0   0   0
 [77,]   0   0   0   0   1   0   0   0   0   0   0
 [78,]   0   0   0   0   0   1   0   0   0   0   0
 [79,]   0   0   0   0   0   0   1   0   0   0   0
 [80,]   0   0   0   0   0   0   0   1   0   0   0
 [81,]   0   0   0   0   0   0   0   0   1   0   0
 [82,]   0   0   0   0   0   0   0   0   0   1   0
 [83,]   0   0   0   0   0   0   0   0   0   0   1
 [84,]   0   0   0   0   0   0   0   0   0   0   0
 [85,]   1   0   0   0   0   0   0   0   0   0   0
 [86,]   0   1   0   0   0   0   0   0   0   0   0
 [87,]   0   0   1   0   0   0   0   0   0   0   0
 [88,]   0   0   0   1   0   0   0   0   0   0   0
 [89,]   0   0   0   0   1   0   0   0   0   0   0
 [90,]   0   0   0   0   0   1   0   0   0   0   0
 [91,]   0   0   0   0   0   0   1   0   0   0   0
 [92,]   0   0   0   0   0   0   0   1   0   0   0
 [93,]   0   0   0   0   0   0   0   0   1   0   0
 [94,]   0   0   0   0   0   0   0   0   0   1   0
 [95,]   0   0   0   0   0   0   0   0   0   0   1
 [96,]   0   0   0   0   0   0   0   0   0   0   0
 [97,]   1   0   0   0   0   0   0   0   0   0   0
 [98,]   0   1   0   0   0   0   0   0   0   0   0
 [99,]   0   0   1   0   0   0   0   0   0   0   0
[100,]   0   0   0   1   0   0   0   0   0   0   0
[101,]   0   0   0   0   1   0   0   0   0   0   0
[102,]   0   0   0   0   0   1   0   0   0   0   0
[103,]   0   0   0   0   0   0   1   0   0   0   0
[104,]   0   0   0   0   0   0   0   1   0   0   0
[105,]   0   0   0   0   0   0   0   0   1   0   0
[106,]   0   0   0   0   0   0   0   0   0   1   0
[107,]   0   0   0   0   0   0   0   0   0   0   1
[108,]   0   0   0   0   0   0   0   0   0   0   0
[109,]   1   0   0   0   0   0   0   0   0   0   0
[110,]   0   1   0   0   0   0   0   0   0   0   0
[111,]   0   0   1   0   0   0   0   0   0   0   0
[112,]   0   0   0   1   0   0   0   0   0   0   0
[113,]   0   0   0   0   1   0   0   0   0   0   0
[114,]   0   0   0   0   0   1   0   0   0   0   0
[115,]   0   0   0   0   0   0   1   0   0   0   0
[116,]   0   0   0   0   0   0   0   1   0   0   0
[117,]   0   0   0   0   0   0   0   0   1   0   0
[118,]   0   0   0   0   0   0   0   0   0   1   0
[119,]   0   0   0   0   0   0   0   0   0   0   1
[120,]   0   0   0   0   0   0   0   0   0   0   0
[121,]   1   0   0   0   0   0   0   0   0   0   0
[122,]   0   1   0   0   0   0   0   0   0   0   0
[123,]   0   0   1   0   0   0   0   0   0   0   0
[124,]   0   0   0   1   0   0   0   0   0   0   0
[125,]   0   0   0   0   1   0   0   0   0   0   0
[126,]   0   0   0   0   0   1   0   0   0   0   0
[127,]   0   0   0   0   0   0   1   0   0   0   0
[128,]   0   0   0   0   0   0   0   1   0   0   0
[129,]   0   0   0   0   0   0   0   0   1   0   0
[130,]   0   0   0   0   0   0   0   0   0   1   0
[131,]   0   0   0   0   0   0   0   0   0   0   1
[132,]   0   0   0   0   0   0   0   0   0   0   0
[133,]   1   0   0   0   0   0   0   0   0   0   0
[134,]   0   1   0   0   0   0   0   0   0   0   0
[135,]   0   0   1   0   0   0   0   0   0   0   0
[136,]   0   0   0   1   0   0   0   0   0   0   0
[137,]   0   0   0   0   1   0   0   0   0   0   0
[138,]   0   0   0   0   0   1   0   0   0   0   0
[139,]   0   0   0   0   0   0   1   0   0   0   0
[140,]   0   0   0   0   0   0   0   1   0   0   0
[141,]   0   0   0   0   0   0   0   0   1   0   0
[142,]   0   0   0   0   0   0   0   0   0   1   0
[143,]   0   0   0   0   0   0   0   0   0   0   1
[144,]   0   0   0   0   0   0   0   0   0   0   0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>Armonicos<span class="ot">=</span>TSA<span class="sc">::</span><span class="fu">harmonic</span>(AirPassengers, <span class="at">m =</span> <span class="dv">1</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="do">###Armónicos</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>forecast<span class="sc">::</span><span class="fu">fourier</span>(AirPassengers,<span class="at">K=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            S1-12      C1-12
  [1,]  0.5000000  0.8660254
  [2,]  0.8660254  0.5000000
  [3,]  1.0000000  0.0000000
  [4,]  0.8660254 -0.5000000
  [5,]  0.5000000 -0.8660254
  [6,]  0.0000000 -1.0000000
  [7,] -0.5000000 -0.8660254
  [8,] -0.8660254 -0.5000000
  [9,] -1.0000000  0.0000000
 [10,] -0.8660254  0.5000000
 [11,] -0.5000000  0.8660254
 [12,]  0.0000000  1.0000000
 [13,]  0.5000000  0.8660254
 [14,]  0.8660254  0.5000000
 [15,]  1.0000000  0.0000000
 [16,]  0.8660254 -0.5000000
 [17,]  0.5000000 -0.8660254
 [18,]  0.0000000 -1.0000000
 [19,] -0.5000000 -0.8660254
 [20,] -0.8660254 -0.5000000
 [21,] -1.0000000  0.0000000
 [22,] -0.8660254  0.5000000
 [23,] -0.5000000  0.8660254
 [24,]  0.0000000  1.0000000
 [25,]  0.5000000  0.8660254
 [26,]  0.8660254  0.5000000
 [27,]  1.0000000  0.0000000
 [28,]  0.8660254 -0.5000000
 [29,]  0.5000000 -0.8660254
 [30,]  0.0000000 -1.0000000
 [31,] -0.5000000 -0.8660254
 [32,] -0.8660254 -0.5000000
 [33,] -1.0000000  0.0000000
 [34,] -0.8660254  0.5000000
 [35,] -0.5000000  0.8660254
 [36,]  0.0000000  1.0000000
 [37,]  0.5000000  0.8660254
 [38,]  0.8660254  0.5000000
 [39,]  1.0000000  0.0000000
 [40,]  0.8660254 -0.5000000
 [41,]  0.5000000 -0.8660254
 [42,]  0.0000000 -1.0000000
 [43,] -0.5000000 -0.8660254
 [44,] -0.8660254 -0.5000000
 [45,] -1.0000000  0.0000000
 [46,] -0.8660254  0.5000000
 [47,] -0.5000000  0.8660254
 [48,]  0.0000000  1.0000000
 [49,]  0.5000000  0.8660254
 [50,]  0.8660254  0.5000000
 [51,]  1.0000000  0.0000000
 [52,]  0.8660254 -0.5000000
 [53,]  0.5000000 -0.8660254
 [54,]  0.0000000 -1.0000000
 [55,] -0.5000000 -0.8660254
 [56,] -0.8660254 -0.5000000
 [57,] -1.0000000  0.0000000
 [58,] -0.8660254  0.5000000
 [59,] -0.5000000  0.8660254
 [60,]  0.0000000  1.0000000
 [61,]  0.5000000  0.8660254
 [62,]  0.8660254  0.5000000
 [63,]  1.0000000  0.0000000
 [64,]  0.8660254 -0.5000000
 [65,]  0.5000000 -0.8660254
 [66,]  0.0000000 -1.0000000
 [67,] -0.5000000 -0.8660254
 [68,] -0.8660254 -0.5000000
 [69,] -1.0000000  0.0000000
 [70,] -0.8660254  0.5000000
 [71,] -0.5000000  0.8660254
 [72,]  0.0000000  1.0000000
 [73,]  0.5000000  0.8660254
 [74,]  0.8660254  0.5000000
 [75,]  1.0000000  0.0000000
 [76,]  0.8660254 -0.5000000
 [77,]  0.5000000 -0.8660254
 [78,]  0.0000000 -1.0000000
 [79,] -0.5000000 -0.8660254
 [80,] -0.8660254 -0.5000000
 [81,] -1.0000000  0.0000000
 [82,] -0.8660254  0.5000000
 [83,] -0.5000000  0.8660254
 [84,]  0.0000000  1.0000000
 [85,]  0.5000000  0.8660254
 [86,]  0.8660254  0.5000000
 [87,]  1.0000000  0.0000000
 [88,]  0.8660254 -0.5000000
 [89,]  0.5000000 -0.8660254
 [90,]  0.0000000 -1.0000000
 [91,] -0.5000000 -0.8660254
 [92,] -0.8660254 -0.5000000
 [93,] -1.0000000  0.0000000
 [94,] -0.8660254  0.5000000
 [95,] -0.5000000  0.8660254
 [96,]  0.0000000  1.0000000
 [97,]  0.5000000  0.8660254
 [98,]  0.8660254  0.5000000
 [99,]  1.0000000  0.0000000
[100,]  0.8660254 -0.5000000
[101,]  0.5000000 -0.8660254
[102,]  0.0000000 -1.0000000
[103,] -0.5000000 -0.8660254
[104,] -0.8660254 -0.5000000
[105,] -1.0000000  0.0000000
[106,] -0.8660254  0.5000000
[107,] -0.5000000  0.8660254
[108,]  0.0000000  1.0000000
[109,]  0.5000000  0.8660254
[110,]  0.8660254  0.5000000
[111,]  1.0000000  0.0000000
[112,]  0.8660254 -0.5000000
[113,]  0.5000000 -0.8660254
[114,]  0.0000000 -1.0000000
[115,] -0.5000000 -0.8660254
[116,] -0.8660254 -0.5000000
[117,] -1.0000000  0.0000000
[118,] -0.8660254  0.5000000
[119,] -0.5000000  0.8660254
[120,]  0.0000000  1.0000000
[121,]  0.5000000  0.8660254
[122,]  0.8660254  0.5000000
[123,]  1.0000000  0.0000000
[124,]  0.8660254 -0.5000000
[125,]  0.5000000 -0.8660254
[126,]  0.0000000 -1.0000000
[127,] -0.5000000 -0.8660254
[128,] -0.8660254 -0.5000000
[129,] -1.0000000  0.0000000
[130,] -0.8660254  0.5000000
[131,] -0.5000000  0.8660254
[132,]  0.0000000  1.0000000
[133,]  0.5000000  0.8660254
[134,]  0.8660254  0.5000000
[135,]  1.0000000  0.0000000
[136,]  0.8660254 -0.5000000
[137,]  0.5000000 -0.8660254
[138,]  0.0000000 -1.0000000
[139,] -0.5000000 -0.8660254
[140,] -0.8660254 -0.5000000
[141,] -1.0000000  0.0000000
[142,] -0.8660254  0.5000000
[143,] -0.5000000  0.8660254
[144,]  0.0000000  1.0000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>tiempo<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>j<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>(<span class="dv">2</span><span class="sc">*</span>pi<span class="sc">*</span>tiempo<span class="sc">*</span>j<span class="sc">/</span><span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cos</span>(<span class="dv">2</span><span class="sc">*</span>pi<span class="sc">*</span>tiempo<span class="sc">*</span>j<span class="sc">/</span><span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8660254</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="do">###Gráfica de los armónicos</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>harmonics <span class="ot">=</span> <span class="fu">fourier</span>(AirPassengers, <span class="at">K =</span> <span class="dv">6</span>)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>harmonics</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            S1-12      C1-12      S2-12 C2-12 S3-12 C3-12      S4-12 C4-12
  [1,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
  [2,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
  [3,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
  [4,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
  [5,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
  [6,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
  [7,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
  [8,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
  [9,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
 [10,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
 [11,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
 [12,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
 [13,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
 [14,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
 [15,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
 [16,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
 [17,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
 [18,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
 [19,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
 [20,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
 [21,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
 [22,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
 [23,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
 [24,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
 [25,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
 [26,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
 [27,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
 [28,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
 [29,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
 [30,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
 [31,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
 [32,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
 [33,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
 [34,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
 [35,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
 [36,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
 [37,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
 [38,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
 [39,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
 [40,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
 [41,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
 [42,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
 [43,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
 [44,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
 [45,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
 [46,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
 [47,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
 [48,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
 [49,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
 [50,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
 [51,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
 [52,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
 [53,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
 [54,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
 [55,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
 [56,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
 [57,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
 [58,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
 [59,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
 [60,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
 [61,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
 [62,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
 [63,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
 [64,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
 [65,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
 [66,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
 [67,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
 [68,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
 [69,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
 [70,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
 [71,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
 [72,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
 [73,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
 [74,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
 [75,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
 [76,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
 [77,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
 [78,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
 [79,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
 [80,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
 [81,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
 [82,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
 [83,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
 [84,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
 [85,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
 [86,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
 [87,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
 [88,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
 [89,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
 [90,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
 [91,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
 [92,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
 [93,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
 [94,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
 [95,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
 [96,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
 [97,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
 [98,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
 [99,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
[100,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
[101,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
[102,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
[103,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
[104,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
[105,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
[106,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
[107,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
[108,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
[109,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
[110,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
[111,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
[112,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
[113,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
[114,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
[115,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
[116,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
[117,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
[118,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
[119,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
[120,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
[121,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
[122,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
[123,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
[124,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
[125,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
[126,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
[127,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
[128,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
[129,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
[130,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
[131,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
[132,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
[133,]  0.5000000  0.8660254  0.8660254   0.5     1     0  0.8660254  -0.5
[134,]  0.8660254  0.5000000  0.8660254  -0.5     0    -1 -0.8660254  -0.5
[135,]  1.0000000  0.0000000  0.0000000  -1.0    -1     0  0.0000000   1.0
[136,]  0.8660254 -0.5000000 -0.8660254  -0.5     0     1  0.8660254  -0.5
[137,]  0.5000000 -0.8660254 -0.8660254   0.5     1     0 -0.8660254  -0.5
[138,]  0.0000000 -1.0000000  0.0000000   1.0     0    -1  0.0000000   1.0
[139,] -0.5000000 -0.8660254  0.8660254   0.5    -1     0  0.8660254  -0.5
[140,] -0.8660254 -0.5000000  0.8660254  -0.5     0     1 -0.8660254  -0.5
[141,] -1.0000000  0.0000000  0.0000000  -1.0     1     0  0.0000000   1.0
[142,] -0.8660254  0.5000000 -0.8660254  -0.5     0    -1  0.8660254  -0.5
[143,] -0.5000000  0.8660254 -0.8660254   0.5    -1     0 -0.8660254  -0.5
[144,]  0.0000000  1.0000000  0.0000000   1.0     0     1  0.0000000   1.0
            S5-12      C5-12 C6-12
  [1,]  0.5000000 -0.8660254    -1
  [2,] -0.8660254  0.5000000     1
  [3,]  1.0000000  0.0000000    -1
  [4,] -0.8660254 -0.5000000     1
  [5,]  0.5000000  0.8660254    -1
  [6,]  0.0000000 -1.0000000     1
  [7,] -0.5000000  0.8660254    -1
  [8,]  0.8660254 -0.5000000     1
  [9,] -1.0000000  0.0000000    -1
 [10,]  0.8660254  0.5000000     1
 [11,] -0.5000000 -0.8660254    -1
 [12,]  0.0000000  1.0000000     1
 [13,]  0.5000000 -0.8660254    -1
 [14,] -0.8660254  0.5000000     1
 [15,]  1.0000000  0.0000000    -1
 [16,] -0.8660254 -0.5000000     1
 [17,]  0.5000000  0.8660254    -1
 [18,]  0.0000000 -1.0000000     1
 [19,] -0.5000000  0.8660254    -1
 [20,]  0.8660254 -0.5000000     1
 [21,] -1.0000000  0.0000000    -1
 [22,]  0.8660254  0.5000000     1
 [23,] -0.5000000 -0.8660254    -1
 [24,]  0.0000000  1.0000000     1
 [25,]  0.5000000 -0.8660254    -1
 [26,] -0.8660254  0.5000000     1
 [27,]  1.0000000  0.0000000    -1
 [28,] -0.8660254 -0.5000000     1
 [29,]  0.5000000  0.8660254    -1
 [30,]  0.0000000 -1.0000000     1
 [31,] -0.5000000  0.8660254    -1
 [32,]  0.8660254 -0.5000000     1
 [33,] -1.0000000  0.0000000    -1
 [34,]  0.8660254  0.5000000     1
 [35,] -0.5000000 -0.8660254    -1
 [36,]  0.0000000  1.0000000     1
 [37,]  0.5000000 -0.8660254    -1
 [38,] -0.8660254  0.5000000     1
 [39,]  1.0000000  0.0000000    -1
 [40,] -0.8660254 -0.5000000     1
 [41,]  0.5000000  0.8660254    -1
 [42,]  0.0000000 -1.0000000     1
 [43,] -0.5000000  0.8660254    -1
 [44,]  0.8660254 -0.5000000     1
 [45,] -1.0000000  0.0000000    -1
 [46,]  0.8660254  0.5000000     1
 [47,] -0.5000000 -0.8660254    -1
 [48,]  0.0000000  1.0000000     1
 [49,]  0.5000000 -0.8660254    -1
 [50,] -0.8660254  0.5000000     1
 [51,]  1.0000000  0.0000000    -1
 [52,] -0.8660254 -0.5000000     1
 [53,]  0.5000000  0.8660254    -1
 [54,]  0.0000000 -1.0000000     1
 [55,] -0.5000000  0.8660254    -1
 [56,]  0.8660254 -0.5000000     1
 [57,] -1.0000000  0.0000000    -1
 [58,]  0.8660254  0.5000000     1
 [59,] -0.5000000 -0.8660254    -1
 [60,]  0.0000000  1.0000000     1
 [61,]  0.5000000 -0.8660254    -1
 [62,] -0.8660254  0.5000000     1
 [63,]  1.0000000  0.0000000    -1
 [64,] -0.8660254 -0.5000000     1
 [65,]  0.5000000  0.8660254    -1
 [66,]  0.0000000 -1.0000000     1
 [67,] -0.5000000  0.8660254    -1
 [68,]  0.8660254 -0.5000000     1
 [69,] -1.0000000  0.0000000    -1
 [70,]  0.8660254  0.5000000     1
 [71,] -0.5000000 -0.8660254    -1
 [72,]  0.0000000  1.0000000     1
 [73,]  0.5000000 -0.8660254    -1
 [74,] -0.8660254  0.5000000     1
 [75,]  1.0000000  0.0000000    -1
 [76,] -0.8660254 -0.5000000     1
 [77,]  0.5000000  0.8660254    -1
 [78,]  0.0000000 -1.0000000     1
 [79,] -0.5000000  0.8660254    -1
 [80,]  0.8660254 -0.5000000     1
 [81,] -1.0000000  0.0000000    -1
 [82,]  0.8660254  0.5000000     1
 [83,] -0.5000000 -0.8660254    -1
 [84,]  0.0000000  1.0000000     1
 [85,]  0.5000000 -0.8660254    -1
 [86,] -0.8660254  0.5000000     1
 [87,]  1.0000000  0.0000000    -1
 [88,] -0.8660254 -0.5000000     1
 [89,]  0.5000000  0.8660254    -1
 [90,]  0.0000000 -1.0000000     1
 [91,] -0.5000000  0.8660254    -1
 [92,]  0.8660254 -0.5000000     1
 [93,] -1.0000000  0.0000000    -1
 [94,]  0.8660254  0.5000000     1
 [95,] -0.5000000 -0.8660254    -1
 [96,]  0.0000000  1.0000000     1
 [97,]  0.5000000 -0.8660254    -1
 [98,] -0.8660254  0.5000000     1
 [99,]  1.0000000  0.0000000    -1
[100,] -0.8660254 -0.5000000     1
[101,]  0.5000000  0.8660254    -1
[102,]  0.0000000 -1.0000000     1
[103,] -0.5000000  0.8660254    -1
[104,]  0.8660254 -0.5000000     1
[105,] -1.0000000  0.0000000    -1
[106,]  0.8660254  0.5000000     1
[107,] -0.5000000 -0.8660254    -1
[108,]  0.0000000  1.0000000     1
[109,]  0.5000000 -0.8660254    -1
[110,] -0.8660254  0.5000000     1
[111,]  1.0000000  0.0000000    -1
[112,] -0.8660254 -0.5000000     1
[113,]  0.5000000  0.8660254    -1
[114,]  0.0000000 -1.0000000     1
[115,] -0.5000000  0.8660254    -1
[116,]  0.8660254 -0.5000000     1
[117,] -1.0000000  0.0000000    -1
[118,]  0.8660254  0.5000000     1
[119,] -0.5000000 -0.8660254    -1
[120,]  0.0000000  1.0000000     1
[121,]  0.5000000 -0.8660254    -1
[122,] -0.8660254  0.5000000     1
[123,]  1.0000000  0.0000000    -1
[124,] -0.8660254 -0.5000000     1
[125,]  0.5000000  0.8660254    -1
[126,]  0.0000000 -1.0000000     1
[127,] -0.5000000  0.8660254    -1
[128,]  0.8660254 -0.5000000     1
[129,] -1.0000000  0.0000000    -1
[130,]  0.8660254  0.5000000     1
[131,] -0.5000000 -0.8660254    -1
[132,]  0.0000000  1.0000000     1
[133,]  0.5000000 -0.8660254    -1
[134,] -0.8660254  0.5000000     1
[135,]  1.0000000  0.0000000    -1
[136,] -0.8660254 -0.5000000     1
[137,]  0.5000000  0.8660254    -1
[138,]  0.0000000 -1.0000000     1
[139,] -0.5000000  0.8660254    -1
[140,]  0.8660254 -0.5000000     1
[141,] -1.0000000  0.0000000    -1
[142,]  0.8660254  0.5000000     1
[143,] -0.5000000 -0.8660254    -1
[144,]  0.0000000  1.0000000     1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">2</span>))</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(harmonics)){</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(harmonics[,i], <span class="at">type =</span> <span class="st">'l'</span>, <span class="at">xlab =</span> <span class="st">"Time"</span>, <span class="at">ylab =</span> <span class="fu">colnames</span>(harmonics)[i])</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">rep</span>(<span class="dv">4</span>, <span class="dv">4</span>), <span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/ajuste%20de%20la%20estacionalidad%20con%20componentes%20Fourier%20y%20Dummy-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>diff_tsibble<span class="ot">&lt;-</span>tsibble_Airpass<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">logdiff_air=</span><span class="fu">difference</span>(<span class="fu">log</span>(value)))<span class="sc">|&gt;</span><span class="fu">select</span>(logdiff_air)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="do">###Explore diferentes valores de K</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>Modelo_serie_diff<span class="ot">&lt;-</span>diff_tsibble<span class="sc">|&gt;</span><span class="fu">model</span>(</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Fourier1Airdiff</span><span class="st">`</span><span class="ot">=</span><span class="fu">ARIMA</span>(logdiff_air<span class="sc">~</span><span class="fu">fourier</span>(<span class="at">K=</span><span class="dv">2</span>)<span class="sc">+</span><span class="fu">pdq</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>real_ajustado1<span class="ot">&lt;-</span>diff_tsibble<span class="sc">%&gt;%</span><span class="fu">left_join</span>(<span class="fu">fitted</span>(Modelo_serie_diff,<span class="at">by=</span>index))<span class="sc">%&gt;%</span><span class="fu">select</span>(<span class="sc">-</span>.model) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(index)`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>real_ajustado1 <span class="sc">%&gt;%</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>() <span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data=</span>real_ajustado1,<span class="fu">aes</span>(<span class="at">y=</span>logdiff_air,<span class="at">colour=</span><span class="st">"real"</span>))<span class="sc">+</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data=</span>real_ajustado1,<span class="fu">aes</span>(<span class="at">y=</span>.fitted,<span class="at">colour=</span><span class="st">"ajustado"</span>))<span class="sc">+</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"real/ajustado"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"real"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"ajustado"</span> <span class="ot">=</span> <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Plot variable not specified, automatically selected `.vars = logdiff_air`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values (`geom_line()`).
Removed 1 row containing missing values (`geom_line()`).
Removed 1 row containing missing values (`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/ajuste%20de%20la%20estacionalidad%20con%20componentes%20Fourier%20y%20Dummy-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="do">#####Ajuste Dummy</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>Modelo_serie_diff_Dummy<span class="ot">&lt;-</span>diff_tsibble<span class="sc">|&gt;</span><span class="fu">model</span>(</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">DummyAirdiff</span><span class="st">`</span><span class="ot">=</span><span class="fu">ARIMA</span>(logdiff_air<span class="sc">~</span><span class="fu">season</span>()<span class="sc">+</span><span class="fu">pdq</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>Modelo_serie_diff_Dummy<span class="ot">&lt;-</span>diff_tsibble<span class="sc">%&gt;%</span><span class="fu">left_join</span>(<span class="fu">fitted</span>(Modelo_serie_diff,<span class="at">by=</span>index))<span class="sc">%&gt;%</span><span class="fu">select</span>(<span class="sc">-</span>.model) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(index)`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>Modelo_serie_diff_Dummy <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>() <span class="sc">+</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data=</span>Modelo_serie_diff_Dummy,<span class="fu">aes</span>(<span class="at">y=</span>logdiff_air,<span class="at">colour=</span><span class="st">"real"</span>))<span class="sc">+</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data=</span>Modelo_serie_diff_Dummy,<span class="fu">aes</span>(<span class="at">y=</span>.fitted,<span class="at">colour=</span><span class="st">"ajustado"</span>))<span class="sc">+</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"real/ajustado"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"real"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"ajustado"</span> <span class="ot">=</span> <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Plot variable not specified, automatically selected `.vars = logdiff_air`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values (`geom_line()`).
Removed 1 row containing missing values (`geom_line()`).
Removed 1 row containing missing values (`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/ajuste%20de%20la%20estacionalidad%20con%20componentes%20Fourier%20y%20Dummy-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### Varios modelos la mismo tiempo</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>ajuste_final_models<span class="ot">&lt;-</span>diff_tsibble<span class="sc">%&gt;%</span><span class="fu">model</span>(</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a> <span class="st">`</span><span class="at">Fourier1Airdiff</span><span class="st">`</span><span class="ot">=</span><span class="fu">ARIMA</span>(logdiff_air<span class="sc">~</span><span class="fu">fourier</span>(<span class="at">K=</span><span class="dv">1</span>)<span class="sc">+</span><span class="fu">pdq</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>)),</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a> <span class="st">`</span><span class="at">Fourier2Airdiff</span><span class="st">`</span><span class="ot">=</span><span class="fu">ARIMA</span>(logdiff_air<span class="sc">~</span><span class="fu">fourier</span>(<span class="at">K=</span><span class="dv">2</span>)<span class="sc">+</span><span class="fu">pdq</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>)),</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a> <span class="st">`</span><span class="at">Fourier3Airdiff</span><span class="st">`</span><span class="ot">=</span><span class="fu">ARIMA</span>(logdiff_air<span class="sc">~</span><span class="fu">fourier</span>(<span class="at">K=</span><span class="dv">3</span>)<span class="sc">+</span><span class="fu">pdq</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>)),</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">DummyAirdiff</span><span class="st">`</span><span class="ot">=</span><span class="fu">ARIMA</span>(logdiff_air<span class="sc">~</span><span class="fu">season</span>()<span class="sc">+</span><span class="fu">pdq</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>                                        )</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(ajuste_final_models)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 8
  .model           sigma2 log_lik   AIC  AICc   BIC ar_roots  ma_roots 
  &lt;chr&gt;             &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;list&gt;    &lt;list&gt;   
1 Fourier1Airdiff 0.00837    140. -273. -273. -264. &lt;cpl [0]&gt; &lt;cpl [0]&gt;
2 Fourier2Airdiff 0.00505    177. -342. -342. -325. &lt;cpl [0]&gt; &lt;cpl [0]&gt;
3 Fourier3Airdiff 0.00424    191. -365. -364. -342. &lt;cpl [0]&gt; &lt;cpl [0]&gt;
4 DummyAirdiff    0.00148    269. -511. -509. -473. &lt;cpl [0]&gt; &lt;cpl [0]&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>ajuste_final_models <span class="sc">%&gt;%</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">select</span>(Fourier1Airdiff)<span class="sc">%&gt;%</span><span class="fu">coef</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  .model          term                estimate std.error statistic  p.value
  &lt;chr&gt;           &lt;chr&gt;                  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 Fourier1Airdiff fourier(K = 1)C1_12 -0.00717    0.0108    -0.663 5.09e- 1
2 Fourier1Airdiff fourier(K = 1)S1_12  0.0775     0.0107     7.21  2.92e-11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>Modelo_serie_diff_models<span class="ot">&lt;-</span>diff_tsibble<span class="sc">%&gt;%</span><span class="fu">left_join</span>(<span class="fu">fitted</span>(ajuste_final_models)<span class="sc">|&gt;</span><span class="fu">group_by</span>(.model)<span class="sc">%&gt;%</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> .model, <span class="at">values_from =</span> .fitted))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(index)`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>Modelo_serie_diff_models <span class="sc">%&gt;%</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>() <span class="sc">+</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data=</span>Modelo_serie_diff_models,<span class="fu">aes</span>(<span class="at">y=</span>logdiff_air,<span class="at">colour=</span><span class="st">"real"</span>))<span class="sc">+</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data=</span>Modelo_serie_diff_models,<span class="fu">aes</span>(<span class="at">y=</span>Fourier1Airdiff,<span class="at">colour=</span><span class="st">"ajustadoFourier1"</span>))<span class="sc">+</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_line</span>(<span class="at">data=</span>Modelo_serie_diff_models,<span class="fu">aes</span>(<span class="at">y=</span>Fourier2Airdiff,<span class="at">colour=</span><span class="st">"ajustadoFourier2"</span>))<span class="sc">+</span> </span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data=</span>Modelo_serie_diff_models,<span class="fu">aes</span>(<span class="at">y=</span>Fourier3Airdiff,<span class="at">colour=</span><span class="st">"ajustadoFourier3"</span>))<span class="sc">+</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data=</span>Modelo_serie_diff_models,<span class="fu">aes</span>(<span class="at">y=</span>DummyAirdiff,<span class="at">colour=</span><span class="st">"ajustadoDummy"</span>)) <span class="sc">+</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"real/ajustado"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"real"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"ajustadoFourier1"</span> <span class="ot">=</span> <span class="st">"red"</span>,<span class="st">"ajustadoFourier2"</span> <span class="ot">=</span> <span class="st">"blue"</span>,<span class="st">"ajustadoFourier3"</span><span class="ot">=</span><span class="st">"green"</span>,<span class="st">"ajustadoDummy"</span><span class="ot">=</span><span class="st">"yellow"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Plot variable not specified, automatically selected `.vars = logdiff_air`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values (`geom_line()`).
Removed 1 row containing missing values (`geom_line()`).
Removed 1 row containing missing values (`geom_line()`).
Removed 1 row containing missing values (`geom_line()`).
Removed 1 row containing missing values (`geom_line()`).
Removed 1 row containing missing values (`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="EjemploDescriptiva_files/figure-html/ajuste%20de%20la%20estacionalidad%20con%20componentes%20Fourier%20y%20Dummy-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>`</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>